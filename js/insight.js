/* 
 project: CDP-365 SDK
 Reserved: @Copyright 2017-2022 Antsomi
 ver: v14
 date: 20241026
 change log: sep domain 1st party, fixed get domain default, lead_event, fixed_staging evn, fixed_preventdefault, fixed undefiennd isCommit,fixed_pv_undefined, fixed_undefined_uid,atm_cid & click_stream,syncUidFromLocalStogare, eventLogType, trackEventWithUri ,wapper item_type->type,view_orders_, ga_uid,visitor_type,expired_click_bc_6months, click_bc_localStorage, redirect_url #char,param portal for Delivery,resetUidV2, getLatestEvent,PageTitle, VisitorType, Fixed line_items, CustomExtra, ITM ,postMessageEvent, ATM, Identify type, Journey Setting Script
 */
"object"!==typeof JSON2&&(JSON2={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(d,e){var g,h,l,m,k=f,y,s=e[d];s&&"object"===typeof s&&(g=s,l=Object.prototype.toString.apply(g),s="[object Date]"===l?isFinite(g.valueOf())?g.getUTCFullYear()+"-"+a(g.getUTCMonth()+1)+"-"+a(g.getUTCDate())+"T"+a(g.getUTCHours())+":"+a(g.getUTCMinutes())+":"+a(g.getUTCSeconds())+"Z":null:"[object String]"===l||"[object Number]"===l||"[object Boolean]"===l?g.valueOf():"[object Array]"!==l&&"function"===typeof g.toJSON?g.toJSON(d):g);"function"===typeof n&&(s=n.call(e,d,s));switch(typeof s){case"string":return b(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";f+=p;y=[];if("[object Array]"===Object.prototype.toString.apply(s)){m=s.length;for(g=0;g<m;g+=1)y[g]=c(g,s)||"null";l=0===y.length?"[]":f?"[\n"+f+y.join(",\n"+f)+"\n"+k+"]":"["+y.join(",")+"]";f=k;return l}if(n&&"object"===typeof n)for(m=n.length,g=0;g<m;g+=1)"string"===typeof n[g]&&(h=n[g],(l=c(h,s))&&y.push(b(h)+(f?": ":":")+l));else for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l=c(h,s))&&y.push(b(h)+(f?": ":":")+l);l=0===y.length?"{}":f?"{\n"+f+y.join(",\n"+f)+"\n"+k+"}":"{"+y.join(",")+"}";f=k;return l}}var d=RegExp("[\x00\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),e=RegExp('[\\\\\\"\x00-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',"g"),f,p,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof JSON2.stringify&&(JSON2.stringify=function(a,b,d){var e;p=f="";if("number"===typeof d)for(e=0;e<d;e+=1)p+=" ";else"string"===typeof d&&(p=d);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON2.stringify");return c("",{"":a})});"function"!==typeof JSON2.parse&&(JSON2.parse=function(a,b){function c(a,d){var e,f,s=a[d];if(s&&"object"===typeof s)for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(f=c(s,e),void 0!==f?s[e]=f:delete s[e]);return b.call(a,d,s)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON2.parse");})})();"object"!==typeof _paqAcdp&&(_paqAcdp=[]);"object"!==typeof PiwikAcdp&&(PiwikAcdp=function(){function a(a){return"undefined"!==typeof a}function b(a){return"function"===typeof a}function c(a){return"object"===typeof a}function d(a){return"string"===typeof a||a instanceof String}function e(){var a,b,c;for(a=0;a<arguments.length;a+=1)c=arguments[a],b=c.shift(),d(b)?B[b].apply(B,c):b.apply(B,c)}function f(a,b,c,d){if(a.addEventListener)return a.addEventListener(b,c,d),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c}function p(a,c){var d="",e,k;for(e in ia)Object.prototype.hasOwnProperty.call(ia,e)&&(k=ia[e][a],b(k)&&(d+=k(c)));return d}function g(){var a;if(!G)for(G=!0,p("load"),a=0;a<U.length;a++)U[a]();return!0}function n(a,b){var c=r.createElement("script");c.type="text/javascript";c.src=a;c.readyState?c.onreadystatechange=function(){var a=this.readyState;if("loaded"===a||"complete"===a)c.onreadystatechange=null,b()}:c.onload=b;r.getElementsByTagName("head")[0].appendChild(c)}function t(){var a="";try{a=w.top.document.referrer}catch(b){if(w.parent)try{a=w.parent.document.referrer}catch(c){a=""}}""===a&&(a=r.referrer);return a}function u(a){return(a=/^([a-z]+):/.exec(a))?a[1]:null}function q(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a}function h(a,b){var c=RegExp("[\\?&#]"+b+"=([^&#]*)").exec(a);return c?V(c[1]):""}function l(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},d,e,k=[],f=1732584193,s=4023233417,y=2562383102,g=271733878,E=3285377520,h,l,m,K,I,p=[];a=H(A(a));h=a.length;for(d=0;d<h-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),p.push(e);switch(h&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(h-1)<<24|8388608;break;case 2:d=a.charCodeAt(h-2)<<24|a.charCodeAt(h-1)<<16|32768;break;case 3:d=a.charCodeAt(h-3)<<24|a.charCodeAt(h-2)<<16|a.charCodeAt(h-1)<<8|128}for(p.push(d);14!==(p.length&15);)p.push(0);p.push(h>>>29);p.push(h<<3&4294967295);for(a=0;a<p.length;a+=16){for(d=0;16>d;d++)k[d]=p[a+d];for(d=16;79>=d;d++)k[d]=b(k[d-3]^k[d-8]^k[d-14]^k[d-16],1);e=f;h=s;l=y;m=g;K=E;for(d=0;19>=d;d++)I=b(e,5)+(h&l|~h&m)+K+k[d]+1518500249&4294967295,K=m,m=l,l=b(h,30),h=e,e=I;for(d=20;39>=d;d++)I=b(e,5)+(h^l^m)+K+k[d]+1859775393&4294967295,K=m,m=l,l=b(h,30),h=e,e=I;for(d=40;59>=d;d++)I=b(e,5)+(h&l|h&m|l&m)+K+k[d]+2400959708&4294967295,K=m,m=l,l=b(h,30),h=e,e=I;for(d=60;79>=d;d++)I=b(e,5)+(h^l^m)+K+k[d]+3395469782&4294967295,K=m,m=l,l=b(h,30),h=e,e=I;f=f+e&4294967295;s=s+h&4294967295;y=y+l&4294967295;g=g+m&4294967295;E=E+K&4294967295}I=c(f)+c(s)+c(y)+c(g)+c(E);return I.toLowerCase()}function m(a,b,c){if("translate.googleusercontent.com"===a)""===c&&(c=b),b=h(b,"u"),a=q(b);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))b=r.links[0].href,a=q(b);return[a,b,c]}function k(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function y(b){b=b&&b.text?b.text:b;if(!d(b)){var c=r.getElementsByTagName("title");c&&a(c[0])&&(b=c[0].text)}return b}function s(b){return b?!a(b.children)&&a(b.childNodes)||a(b.children)?b.children:[]:[]}function I(b,c){if(b&&b.indexOf)return b.indexOf(c);if(!a(b)||null===b||!b.length)return-1;var d=b.length;if(0===d)return-1;for(var e=0;e<d;){if(b[e]===c)return e;e++}return-1}function E(b){function c(a,b){if(w.getComputedStyle)return r.defaultView.getComputedStyle(a,null)[b];if(a.currentStyle)return a.currentStyle[b]}function d(e,k,f,s,y,g,h){var E=e.parentNode,l;a:{for(l=e.parentNode;l;){if(l===r){l=!0;break a}l=l.parentNode}l=!1}if(!l)return!1;if(9===E.nodeType)return!0;if("0"===c(e,"opacity")||"none"===c(e,"display")||"hidden"===c(e,"visibility"))return!1;a(k)&&a(f)&&a(s)&&a(y)&&a(g)&&a(h)||(k=e.offsetTop,y=e.offsetLeft,s=k+e.offsetHeight,f=y+e.offsetWidth,g=e.offsetWidth,h=e.offsetHeight);if(b===e&&(0===h||0===g)&&"hidden"===c(e,"overflow"))return!1;if(E){if("hidden"===c(E,"overflow")||"scroll"===c(E,"overflow"))if(y+1>E.offsetWidth+E.scrollLeft||y+g-1<E.scrollLeft||k+1>E.offsetHeight+E.scrollTop||k+h-1<E.scrollTop)return!1;e.offsetParent===E&&(y+=E.offsetLeft,k+=E.offsetTop);return d(E,k,f,s,y,g,h)}return!0}return b?d(b):!1}function na(a,b){if(b)return b;"piwik.php"===a.slice(-9)&&(a=a.slice(0,a.length-9));return a}function K(a){var b=/index\.php\?module=Overlay&action=startOverlaySession&prop_id=([0-9]+)&period=([^&]+)&date=([^&]+)$/.exec(r.referrer);if(b){if(b[1]!==String(a))return!1;w.name="Piwik_Overlay###"+b[2]+"###"+b[3]}a=w.name.split("###");return 3===a.length&&"Piwik_Overlay"===a[0]}function Pb(a,b,c){var d=w.name.split("###"),e=d[1],k=d[2],f=na(a,b);n(f+"plugins/Overlay/client/client.js?v=1",function(){Piwik_Overlay_Client.initialize(f,c,e,k)})}function da(e,s){function g(a,b,c,d,e,C){if(!aa){var k;c&&(k=new Date,k.setTime(k.getTime()+c));r.cookie=a+"="+A(b)+(c?";expires="+k.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(C?";secure":"")}}function I(a){return aa?0:(a=RegExp("(^|;)[ ]*"+a+"=([^;]*)").exec(r.cookie))?V(a[2]):0}function na(a){var b;return hb?(b=/#.*/,a.replace(b,"")):a}function n(a){var b,c,d;for(b=0;b<va.length;b++){c=k(va[b].toLowerCase());if(a===c)return!0;if("."===c.slice(0,1)){if(a===c.slice(1))return!0;d=a.length-c.length;if(0<d&&a.slice(d)===c)return!0}}return!1}function B(a,b,c){c=!0;"undefined"==typeof b||b||(c=!1);b=document.createElement("script");b.type="text/javascript";b.async=c;b.src=S+(0>S.indexOf("?")?"?":"&")+a;b.onload=function(){};a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}function z(b,c,d){a(d)&&null!==d||(d=!0);try{var e=w.XMLHttpRequest?new w.XMLHttpRequest:w.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;e.open("POST",S,!0);e.onreadystatechange=function(){4!==this.readyState||200<=this.status&&300>this.status||!d?"function"===typeof c&&c():B(b,!0,c)};e.setRequestHeader("Content-Type",ib);e.send(b)}catch(C){d&&B(b,!0,c)}}function da(a){a=(new Date).getTime()+a;if(!j||a>j)j=a}function fb(a){var b=(new Date).getTime();ea&&b<ea?(b=ea-b,setTimeout(a,b),da(b+50),ea+=50):(!1===ea&&(ea=b+800),a())}function F(a,b,c,d){!wa&&a&&fb(function(){"POST"===jb?z(a,d):B(a,c,d);da(b)})}function L(a,b){var c;c=wa?!1:a&&a.length;if(c){var d='{"requests":["?'+a.join('","?')+'"]}';fb(function(){z(d,null,!1);da(b)})}}function O(a){return kb+a+"."+Q+"."+lb}function $(){if(aa)return"0";if(!a(D.cookieEnabled)){var b=O("testcookie");g(b,"1");return"1"===I(b)?"1":"0"}return D.cookieEnabled?"1":"0"}function Ja(){lb=mb((W||Ka)+(X||"/")).slice(0,4)}function P(){La=(new Date).getTime()}function gb(){var a=new Date,b=Math.round(a.getTime()/1E3),c=O("id"),c=I(c);if("undefined"==typeof Y||null==Y)Y="0";return c?(a=c.split("."),a.unshift("0"),Y.length&&(a[1]=Y),a):a=["1",Y.length?Y:mb((D.userAgent||"")+(D.platform||"")+JSON2.stringify(fa)+a.getTime()+Math.random()).slice(0,16),b,0,b,"",""]}function ua(){var b=gb(),c=b[0],d=b[1],e=b[2],C=b[3],k=b[4],f=b[5];a(b[6])||(b[6]="");return{newVisitor:c,uuid:d,createTs:e,visitCount:C,currentVisitTs:k,lastVisitTs:f,lastEcommerceOrderTs:b[6]}}function db(){var a=(new Date).getTime(),b=ua().createTs;return 1E3*parseInt(b,10)+Ma-a}function Ha(b){if(Q){var c=Math.round((new Date).getTime()/1E3);a(b)||(b=ua());b=b.uuid+"."+b.createTs+"."+b.visitCount+"."+c+"."+b.lastVisitTs+"."+b.lastEcommerceOrderTs;g(O("id"),b,db(),X,W)}}function ja(){var a=I(O("ref"));if(a.length)try{if(a=JSON2.parse(a),c(a))return a}catch(b){}return["","",0,""]}function nb(){var a=aa;aa=!1;g(O("id"),"",-86400,X,W);g(O("ses"),"",-86400,X,W);g(O("cvar"),"",-86400,X,W);g(O("ref"),"",-86400,X,W);aa=a}function T(c,d,e,C){var k,f=Math.round((new Date).getTime()/1E3),s,y;e=O("ses");var E=O("ref");O("cvar");var J=I(e);s=ja();y=xa||ob;var l,m;aa&&nb();if(wa)return"";e=ua();a(C)||(C="");(l=r.characterSet||r.charset)&&l.toLowerCase();l=s[0];m=s[1];s=s[3];if(!J){J=Na/1E3;if(!e.lastVisitTs||f-e.lastVisitTs>J)e.visitCount++,e.lastVisitTs=e.currentVisitTs;if(!Oa||!l.length){for(k in ya)if(Object.prototype.hasOwnProperty.call(ya,k)&&(l=h(y,ya[k]),l.length))break;for(k in za)if(Object.prototype.hasOwnProperty.call(za,k)&&(m=h(y,za[k]),m.length))break}k=q(Pa);y=s.length?q(s):"";!k.length||(n(k)||Oa&&y.length&&!n(y))||(s=Pa);if(s.length||l.length)s=[l,m,f,na(s.slice(0,100))],g(E,JSON2.stringify(s),pb,X,W)}f=window._portalId;"undefined"!=typeof f&&0<f||"undefined"!=typeof _portalId&&0<_portalId&&(f=_portalId);if("undefined"==typeof f||0>=f)f=Aa;E=Q;"undefined"!=typeof d&&("undefined"!=typeof d.cdp_property_id&&0<d.cdp_property_id)&&(E=d.cdp_property_id);c=c+("&portal_id="+f)+("&prop_id="+E+(pa&&pa.length?"&uid="+A(pa):""));d?c+="&cvar="+A(JSON2.stringify(d)):ha&&(c+="&cvar="+A(JSON2.stringify(ha)));qb&&(Qa?c+="&gt_ms="+Qa:Z&&(Z.timing&&Z.timing.requestStart&&Z.timing.responseEnd)&&(c+="&gt_ms="+(Z.timing.responseEnd-Z.timing.requestStart)));e.lastEcommerceOrderTs=a(C)&&String(C).length?C:e.lastEcommerceOrderTs;Ha(e);g(O("ses"),"*",Na,X,W);Ra.length&&(c+="&"+Ra);b(Sa)&&(c=Sa(c));return c}function Sb(a,b){var c=new Date,d=T("action_name="+A(y(a||Ta)),b,"log");F(d,M,!0);Ua&&(qa&&!rb)&&(rb=!0,f(r,"click",P),f(r,"mouseup",P),f(r,"mousedown",P),f(r,"mousemove",P),f(r,"mousewheel",P),f(w,"DOMMouseScroll",P),f(w,"scroll",P),f(r,"keypress",P),f(r,"keydown",P),f(r,"keyup",P),f(w,"resize",P),f(w,"focus",P),f(w,"blur",P),La=c.getTime(),setTimeout(function Qb(){var a;c=new Date;La+qa>c.getTime()&&(Ua<c.getTime()&&(a=T("ping=1",b,"ping"),F(a,M,!0)),setTimeout(Qb,qa))},qa))}function Va(a,b){var c,d="(^| )(piwik[_-]"+b;if(a)for(c=0;c<a.length;c++)d+="|"+a[c];return RegExp(d+")( |$)")}function ra(a){return S&&a&&0===String(a).indexOf(S)}function Wa(b){var c=b;for(b=c.parentNode;null!==b&&a(b)&&!v.isLinkElement(c);)c=b,b=c.parentNode;b=c;if(v.hasNodeAttribute(b,"href")&&a(b.href)&&(c=v.getAttributeValueFromNode(b,"href"),!ra(c))){var c=b.hostname||q(b.href),d=c.toLowerCase(),c=b.href.replace(c,d);if(!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(c)){b=b.className;d=n(d);if(ra(c))b=0;else{var e=Va(sb,"download"),C=Va(tb,"link"),k=RegExp("\\.("+sa+")([?&#]|$)","i");b=C.test(b)?"link":e.test(b)||k.test(c)?"download":d?0:"link"}if(b)return{type:b,href:c}}}}function ta(a,b,c,d){if(a=x.buildInteractionRequestParams(a,b,c,d))return T(a,null,"contentInteraction")}function ub(b,c,d,e,C){if(a(b)){if(ra(b))return b;var k=x.toAbsoluteUrl(b),k="redirecturl="+A(k)+"&",k=k+ta(c,d,e,C||b);b="&";0>S.indexOf("?")&&(b="?");return S+b+k}}function Xa(a,b){if(!a||!b)return!1;var c=x.findTargetNode(a);if(x.shouldIgnoreInteraction(c))return!1;c=x.findTargetNodeNoDefault(a);return!c||c&&b&&(c.contains?c.contains(b):c===b||c.compareDocumentPosition&&c.compareDocumentPosition(b)&16)?!0:!1}function vb(a,b,c){if(a){var d=x.findParentContentNode(a);if(d&&Xa(d,a)&&(a=x.buildContentBlock(d)))return!a.target&&c&&(a.target=c),x.buildInteractionRequestParams(b,a.name,a.piece,a.target)}}function wb(a){if(!ba||!ba.length)return!1;var b,c;for(b=0;b<ba.length;b++)if((c=ba[b])&&c.name===a.name&&c.piece===a.piece&&c.target===a.target)return!0;return!1}function Ya(a){if(!a)return!1;var b=x.findTargetNode(a);if(!b||x.shouldIgnoreInteraction(b))return!1;var c=Wa(b);if(Za&&c&&c.type)return!1;if(v.isLinkElement(b)&&v.hasNodeAttributeWithValue(b,"href")){c=String(v.getAttributeValueFromNode(b,"href"));if(0===c.indexOf("#"))return!1;if(ra(c))return!0;if(!x.isUrlToCurrentDomain(c))return!1;var d=x.buildContentBlock(a);if(!d)return;a=d.name;var e=d.piece,d=d.target;if(!v.hasNodeAttributeWithValue(b,x.CONTENT_TARGET_ATTR)||b.wasContentTargetAttrReplaced)b.wasContentTargetAttrReplaced=!0,d=x.toAbsoluteUrl(c),v.setAnyAttribute(b,x.CONTENT_TARGET_ATTR,d);c=ub(c,"click",a,e,d);x.setHrefAttribute(b,c);return!0}return!1}function xb(a){return function(b){if(a){var c=x.findParentContentNode(a),d;b&&(d=b.target||b.srcElement);d||(d=a);if(Xa(c,d)){da(M);v.isLinkElement(a)&&(v.hasNodeAttributeWithValue(a,"href")&&v.hasNodeAttributeWithValue(a,x.CONTENT_TARGET_ATTR))&&(b=v.getAttributeValueFromNode(a,"href"),!ra(b)&&a.wasContentTargetAttrReplaced&&v.setAnyAttribute(a,x.CONTENT_TARGET_ATTR,""));b=Wa(a);if(Ba&&b&&b.type)return b.type;if(Ya(c))return"href";if(c=x.buildContentBlock(c))return c=ta("click",c.name,c.piece,c.target),F(c,M,!0),c}}}}function yb(a){if(a&&a.length){var b,c;for(b=0;b<a.length;b++)(c=x.findTargetNode(a[b]))&&!c.contentInteractionTrackingSetupDone&&(c.contentInteractionTrackingSetupDone=!0,f(c,"click",xb(c)))}}function zb(a,b){if(!a||!a.length)return[];var c,d;for(c=0;c<a.length;c++)wb(a[c])?(a.splice(c,1),c--):ba.push(a[c]);if(!a||!a.length)return[];if(b&&b.length)for(c=0;c<b.length;c++)Ya(b[c]);yb(b);var e=[];for(c=0;c<a.length;c++)d=T(x.buildImpressionRequestParams(a[c].name,a[c].piece,a[c].target),void 0,"contentImpressions"),e.push(d);return e}function Ca(a){var b=x.collectContent(a);return zb(b,a)}function $a(a){if(!a||!a.length)return[];var b;for(b=0;b<a.length;b++)x.isNodeVisible(a[b])||(a.splice(b,1),b--);return a&&a.length?Ca(a):[]}function Ab(a,b,c){a=x.buildImpressionRequestParams(a,b,c);return T(a,null,"contentImpression")}function Bb(a,b){if(a){var c=x.findParentContentNode(a);if(c=x.buildContentBlock(c))return b||(b="Unknown"),ta(b,c.name,c.piece,c.target)}}function Cb(b,d,e,C,k,f,s,y,g){if(void 0!=String(b)&&0===String(b).length||void 0!=String(d)&&0===String(d).length)return!1;try{"pageview"==b&&"view"==d&&("undefined"==typeof f&&(f={}),f.page_title=Ta)}catch(E){}b="ec="+A(b)+"&ea="+A(d)+(a(e)?"&en="+A(e):"")+(a(C)?"&ev="+A(C):"")+(a(k)&&c(k)&&void 0!=Object.keys(k)&&0<Object.keys(k).length?"&items="+A(JSON2.stringify(k)):"");a(s)&&(c(s)&&void 0!=Object.keys(s)&&0<Object.keys(s).length)&&(b+="&uinf="+A(JSON2.stringify(s)),"undefined"!=typeof s.upkey&&(b+="&upkey="+s.upkey));a(y)&&(c(y)&&void 0!=Object.keys(y)&&0<Object.keys(y).length)&&(b+="&dims="+A(JSON2.stringify(y)));f=T(b,f,"event");a(g)||(g=!1);F(f,M,g)}function Db(a,b,c,d,e){b=b+"="+A(na(a));(a=vb(e,"click",a))&&(b+="&"+a);c=T(b,c,"link");F(c,d?0:M,!0,d)}function R(a){var b,c,d=["","webkit","ms","moz"],e;if(!Eb)for(c=0;c<d.length;c++)if(e=d[c],Object.prototype.hasOwnProperty.call(r,""!==e?e+"H"+"hidden".slice(1):"hidden")){"prerender"===r[""!==e?e+"V"+"visibilityState".slice(1):"visibilityState"]&&(b=!0);break}b?f(r,e+"visibilitychange",function Rb(){r.removeEventListener(e+"visibilitychange",Rb,!1);a()}):a()}function Da(a){"complete"===r.readyState?a():w.addEventListener?w.addEventListener("load",a):w.attachEvent&&w.attachEvent("onLoad",a)}function ab(a){var b=!1;(b=r.attachEvent?"complete"===r.readyState:"loading"!==r.readyState)?a():r.addEventListener?r.addEventListener("DOMContentLoaded",a):r.attachEvent&&r.attachEvent("onreadystatechange",a)}function Fb(a){var b=Wa(a);b&&b.type&&(b.href=H(b.href),Db(b.href,b.type,void 0,null,a))}function bb(a){var b,c;a=a||w.event;b=a.which||a.button;c=a.target||a.srcElement;"click"===a.type?c&&Fb(c):"mousedown"===a.type?1!==b&&2!==b||!c?Ea=Fa=null:(Ea=b,Fa=c):"mouseup"===a.type&&(b===Ea&&c===Fa&&Fb(c),Ea=Fa=null)}function Gb(a,b){b?(f(a,"mouseup",bb,!1),f(a,"mousedown",bb,!1)):f(a,"click",bb,!1)}function Hb(a){if(!Ba){Ba=!0;var b,c=Va(Ib,"ignore"),d=r.links;if(d)for(b=0;b<d.length;b++)c.test(d[b].className)||Gb(d[b],a)}}function Jb(a,b,c){function d(){e=!0}if(la)return!0;la=!0;var e=!1,C,k;Da(function(){function f(a){setTimeout(function(){la&&(e=!1,c.trackVisibleContentImpressions(),f(a))},a)}function s(a){setTimeout(function(){la&&(e&&(e=!1,c.trackVisibleContentImpressions()),s(a))},a)}if(a){C=["scroll","resize"];for(k=0;k<C.length;k++)r.addEventListener?r.addEventListener(C[k],d):w.attachEvent("on"+C[k],d);s(100)}b&&0<b&&(b=parseInt(b,10),f(b))})}var i={},cb=m(r.domain,w.location.href,t()),Ka=k(cb[0]),ob=V(cb[1]),Pa=V(cb[2]),Kb=!1,jb="GET",ib="application/x-www-form-urlencoded; charset=UTF-8",S=e||"",Lb="",Ra="",Aa=Aa||"",Q=s||"",Mb="",Nb="",pa="",Y="",xa,Ta=r.title,sa="7z|aac|apk|ar[cj]|as[fx]|avi|azw3|bin|csv|deb|dmg|docx?|epub|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mobi|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|pptx?|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xlsx?|xml|z|zip",va=[Ka],Ib=[],sb=[],tb=[],M=500,Ua,qa,hb,ha,ya=["pk_campaign","piwik_campaign","utm_campaign","utm_source","utm_medium"],za=["pk_kwd","piwik_kwd","utm_term"],kb="_pk_",W,X,aa=!1,wa,Eb,Oa,Ma=339552E5,Na=18E5,pb=15768E6,qb=!0,Qa=0,Sa,fa={},ba=[],la=!1,ea=!1,Ba=!1,Za=!1,rb=!1,La,Ea,Fa,mb=l,lb;(function(){var c,d,e={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},C=/Mac OS X.*Safari\//.test(D.userAgent)?w.devicePixelRatio||1:1;if(!/MSIE/.test(D.userAgent)){if(D.mimeTypes&&D.mimeTypes.length)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=D.mimeTypes[e[c]],fa[c]=d&&d.enabledPlugin?"1":"0");"unknown"!==typeof navigator.javaEnabled&&(a(D.javaEnabled)&&D.javaEnabled())&&(fa.java="1");b(w.GearsFactory)&&(fa.gears="1");fa.cookie=$()}fa.res=Ob.width*C+"x"+Ob.height*C})();Ja();Ha();p("run",function(b,e){var C=null;if(d(b)&&!a(i[b])&&e){if(c(e))C=e;else if(d(e))try{eval("hookObj ="+e)}catch(k){}i[b]=C}return C});return{hook:i,getHook:function(a){return i[a]},getQuery:function(){return v},getContent:function(){return x},buildContentImpressionRequest:Ab,buildContentInteractionRequest:ta,buildContentInteractionRequestNode:Bb,buildContentInteractionTrackingRedirectUrl:ub,getContentImpressionsRequestsFromNodes:Ca,getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet:$a,trackCallbackOnLoad:Da,trackCallbackOnReady:ab,buildContentImpressionsRequests:zb,wasContentImpressionAlreadyTracked:wb,appendContentInteractionToRequestIfPossible:vb,setupInteractionsTracking:yb,trackContentImpressionClickInteraction:xb,internalIsNodeVisible:E,isNodeAuthorizedToTriggerInteraction:Xa,replaceHrefIfInternalLink:Ya,getConfigDownloadExtensions:function(){return sa},enableTrackOnlyVisibleContent:function(a,b){return Jb(a,b,this)},clearTrackedContentImpressions:function(){ba=[]},getTrackedContentImpressions:function(){return ba},clearEnableTrackOnlyVisibleContent:function(){la=!1},disableLinkTracking:function(){Za=Ba=!1},getConfigVisitorCookieTimeout:function(){return Ma},getRemainingVisitorCookieTimeout:db,getVisitorId:function(){return ua().uuid},getVisitorInfo:function(){return gb()},getAttributionInfo:function(){return ja()},getAttributionCampaignName:function(){return ja()[0]},getAttributionCampaignKeyword:function(){return ja()[1]},getAttributionReferrerTimestamp:function(){return ja()[2]},getAttributionReferrerUrl:function(){return ja()[3]},setTrackerUrl:function(a){S=a},getTrackerUrl:function(){return S},setPortalId:function(a){Aa=a},getPortalId:function(){return Aa},getpropId:function(){return Q},setpropId:function(a){Q=a;Ha()},setClientId:function(a){Mb=a},getClientId:function(){return Mb},setLogEventType:function(a){Nb=a},getLogEventType:function(){return Nb},setUserId:function(a){pa=a},getUserId:function(){return pa},setUserCookieId:function(a){Y=a},getUserCookieId:function(){return Y},setCustomData:function(a,b){c(a)?ha=a:(ha||(ha={}),ha[a]=b)},getCustomData:function(){return ha},setCustomRequestProcessing:function(a){Sa=a},appendToTrackingUrl:function(a){Ra=a},getRequest:function(a){return T(a)},addPlugin:function(a,b){ia[a]=b},setLinkTrackingTimer:function(a){M=a},setDownloadExtensions:function(a){sa=a},addDownloadExtensions:function(a){sa+="|"+a},setDomains:function(a){va=d(a)?[a]:a;va.push(Ka)},setIgnoreClasses:function(a){Ib=d(a)?[a]:a},setRequestMethod:function(a){jb=a||"GET"},setRequestContentType:function(a){ib=a||"application/x-www-form-urlencoded; charset=UTF-8"},setReferrerUrl:function(a){Pa=a},setCustomUrl:function(a){var b=ob,c;u(a)?xa=a:"/"===a.slice(0,1)?xa=u(b)+"://"+q(b)+a:(b=na(b),c=b.indexOf("?"),0<=c&&(b=b.slice(0,c)),c=b.lastIndexOf("/"),c!==b.length-1&&(b=b.slice(0,c+1)),xa=b+a)},setDocumentTitle:function(a){Ta=a},setAPIUrl:function(a){Lb=a},setDownloadClasses:function(a){sb=d(a)?[a]:a},setLinkClasses:function(a){tb=d(a)?[a]:a},setCampaignNameKey:function(a){ya=d(a)?[a]:a},setCampaignKeywordKey:function(a){za=d(a)?[a]:a},discardHashTag:function(a){hb=a},setCookieNamePrefix:function(a){kb=a;a=O("cvar");a=I(a);a.length&&(a=JSON2.parse(a),c(a))},setCookieDomain:function(a){W=k(a);Ja()},setCookiePath:function(a){X=a;Ja()},setVisitorCookieTimeout:function(a){Ma=1E3*a},setSessionCookieTimeout:function(a){Na=1E3*a},setReferralCookieTimeout:function(a){pb=1E3*a},setConversionAttributionFirstReferrer:function(a){Oa=a},disableCookies:function(){aa=!0;fa.cookie="0"},deleteCookies:function(){nb()},setDoNotTrack:function(a){var b=D.doNotTrack||D.msDoNotTrack;(wa=a&&("yes"===b||"1"===b))&&this.disableCookies()},addListener:function(a,b){Gb(a,b)},enableLinkTracking:function(a){Za=!0;G?Hb(a):U.push(function(){Hb(a)})},enableJSErrorTracking:function(){if(!Kb){Kb=!0;var a=w.onerror;w.onerror=function(b,c,d,e,C){R(function(){var a=c+":"+d;e&&(a+=":"+e);Cb("JavaScript Errors",a,b)});return a?a(b,c,d,e,C):!1}}},disablePerformanceTracking:function(){qb=!1},setGenerationTimeMs:function(a){Qa=parseInt(a,10)},setHeartBeatTimer:function(a,b){Ua=(new Date).getTime()+1E3*a;qa=1E3*b},killFrame:function(){w.location!==w.top.location&&(w.top.location=w.location)},redirectFile:function(a){"file:"===w.location.protocol&&(w.location=a)},setCountPreRendered:function(a){Eb=a},trackGoal:function(a,b,c){R(function(){var d=T("idgoal="+a+(b?"&revenue="+b:""),c,"goal");F(d,M,!1)})},trackLink:function(a,b,c,d){R(function(){Db(a,b,c,d)})},trackPageView:function(a,b){ba=[];K(Q)?R(function(){Pb(S,Lb,Q)}):R(function(){Sb(a,b)})},trackAllContentImpressions:function(){K(Q)||R(function(){ab(function(){var a=x.findContentNodes(),a=Ca(a);L(a,M)})})},trackVisibleContentImpressions:function(b,c){K(Q)||(a(b)||(b=!0),a(c)||(c=750),Jb(b,c,this),R(function(){Da(function(){var a=x.findContentNodes(),a=$a(a);L(a,M)})}))},trackContentImpression:function(a,b,c){!K(Q)&&a&&(b=b||"Unknown",R(function(){var d=Ab(a,b,c);F(d,M,!0)}))},trackContentImpressionsWithinNode:function(a){!K(Q)&&a&&R(function(){la?Da(function(){var b=x.findContentNodesWithinNode(a),b=$a(b);L(b,M)}):ab(function(){var b=x.findContentNodesWithinNode(a),b=Ca(b);L(b,M)})})},trackContentInteraction:function(a,b,c,d){!K(Q)&&(a&&b)&&(c=c||"Unknown",R(function(){var e=ta(a,b,c,d);F(e,M,!0)}))},trackContentInteractionNode:function(a,b){!K(Q)&&a&&R(function(){var c=Bb(a,b);F(c,M,!0)})},trackEvent:function(a,b,c,d,e,C,k,f,s){R(function(){Cb(a,b,c,d,e,C,k,f,s)})},trackSiteSearch:function(b,c,d){R(function(){var e=T("search="+A(b)+(c?"&search_cat="+A(c):"")+(a(d)?"&search_count="+d:""),void 0,"sitesearch");F(e,M,!0)})}}}var j,ia={},r=document,D=navigator,Ob=screen,w=window,Z=w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance,G=!1,U=[],A=w.encodeURIComponent,V=w.decodeURIComponent,H=unescape,B,z,F,v={htmlCollectionToArray:function(a){var b=[],c;if(!a||!a.length)return b;for(c=0;c<a.length;c++)b.push(a[c]);return b},find:function(a){if(!document.querySelectorAll||!a)return[];a=document.querySelectorAll(a);return this.htmlCollectionToArray(a)},findMultiple:function(a){if(!a||!a.length)return[];var b,c,d=[];for(b=0;b<a.length;b++)c=this.find(a[b]),d=d.concat(c);return d=this.makeNodesUnique(d)},findNodesByTagName:function(a,b){if(!a||!b||!a.getElementsByTagName)return[];var c=a.getElementsByTagName(b);return this.htmlCollectionToArray(c)},makeNodesUnique:function(a){var b=[].concat(a);a.sort(function(a,c){if(a===c)return 0;var d=I(b,a),e=I(b,c);return d===e?0:d>e?-1:1});if(1>=a.length)return a;var c=0,d=0,e=[],k;for(k=a[c++];k;)k===a[c]&&(d=e.push(c)),k=a[c++]||null;for(;d--;)a.splice(e[d],1);return a},getAttributeValueFromNode:function(a,b){if(this.hasNodeAttribute(a,b)){if(a&&a.getAttribute)return a.getAttribute(b);if(a&&a.attributes&&"undefined"!==typeof a.attributes[b]){if(a.attributes[b].value)return a.attributes[b].value;if(a.attributes[b].nodeValue)return a.attributes[b].nodeValue;var c,d=a.attributes;if(d){for(c=0;c<d.length;c++)if(d[c].nodeName===b)return d[c].nodeValue;return null}}}},hasNodeAttributeWithValue:function(a,b){return!!this.getAttributeValueFromNode(a,b)},hasNodeAttribute:function(a,b){return a&&a.hasAttribute?a.hasAttribute(b):a&&a.attributes?"undefined"!==typeof a.attributes[b]:!1},hasNodeCssClass:function(a,b){if(a&&b&&a.className){var c=a.className.split(" ");if(-1!==I(c,b))return!0}return!1},findNodesHavingAttribute:function(a,b,c){c||(c=[]);if(!a||!b)return c;a=s(a);if(!a||!a.length)return c;var d,e;for(d=0;d<a.length;d++)e=a[d],this.hasNodeAttribute(e,b)&&c.push(e),c=this.findNodesHavingAttribute(e,b,c);return c},findFirstNodeHavingAttribute:function(a,b){if(a&&b){if(this.hasNodeAttribute(a,b))return a;var c=this.findNodesHavingAttribute(a,b);if(c&&c.length)return c[0]}},findFirstNodeHavingAttributeWithValue:function(a,b){if(a&&b){if(this.hasNodeAttributeWithValue(a,b))return a;var c=this.findNodesHavingAttribute(a,b);if(c&&c.length){var d;for(d=0;d<c.length;d++)if(this.getAttributeValueFromNode(c[d],b))return c[d]}}},findNodesHavingCssClass:function(a,b,c){c||(c=[]);if(!a||!b)return c;if(a.getElementsByClassName)return b=a.getElementsByClassName(b),this.htmlCollectionToArray(b);a=s(a);if(!a||!a.length)return[];var d,e;for(d=0;d<a.length;d++)e=a[d],this.hasNodeCssClass(e,b)&&c.push(e),c=this.findNodesHavingCssClass(e,b,c);return c},findFirstNodeHavingClass:function(a,b){if(a&&b){if(this.hasNodeCssClass(a,b))return a;var c=this.findNodesHavingCssClass(a,b);if(c&&c.length)return c[0]}},isLinkElement:function(a){if(!a)return!1;a=String(a.nodeName).toLowerCase();return-1!==I(["a","area"],a)},setAnyAttribute:function(a,b,c){a&&b&&(a.setAttribute?a.setAttribute(b,c):a[b]=c)}},x={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){return v.findMultiple(["."+this.CONTENT_CLASS,"["+this.CONTENT_ATTR+"]"])},findContentNodesWithinNode:function(a){if(!a)return[];var b=v.findNodesHavingCssClass(a,this.CONTENT_CLASS),c=v.findNodesHavingAttribute(a,this.CONTENT_ATTR);if(c&&c.length){var d;for(d=0;d<c.length;d++)b.push(c[d])}v.hasNodeAttribute(a,this.CONTENT_ATTR)?b.push(a):v.hasNodeCssClass(a,this.CONTENT_CLASS)&&b.push(a);return b=v.makeNodesUnique(b)},findParentContentNode:function(a){if(a)for(var b=0;a&&a!==r&&a.parentNode;){if(v.hasNodeAttribute(a,this.CONTENT_ATTR)||v.hasNodeCssClass(a,this.CONTENT_CLASS))return a;a=a.parentNode;if(1E3<b)break;b++}},findPieceNode:function(a){var b;(b=v.findFirstNodeHavingAttribute(a,this.CONTENT_PIECE_ATTR))||(b=v.findFirstNodeHavingClass(a,this.CONTENT_PIECE_CLASS));return b?b:a},findTargetNodeNoDefault:function(a){if(a){var b=v.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_TARGET_ATTR);if(b||(b=v.findFirstNodeHavingAttribute(a,this.CONTENT_TARGET_ATTR))||(b=v.findFirstNodeHavingClass(a,this.CONTENT_TARGET_CLASS)))return b}},findTargetNode:function(a){var b=this.findTargetNodeNoDefault(a);return b?b:a},findContentName:function(a){if(a){var b=v.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_NAME_ATTR);if(b)return v.getAttributeValueFromNode(b,this.CONTENT_NAME_ATTR);if(b=this.findContentPiece(a))return this.removeDomainIfIsInLink(b);if(v.hasNodeAttributeWithValue(a,"title"))return v.getAttributeValueFromNode(a,"title");b=this.findPieceNode(a);if(v.hasNodeAttributeWithValue(b,"title"))return v.getAttributeValueFromNode(b,"title");a=this.findTargetNode(a);if(v.hasNodeAttributeWithValue(a,"title"))return v.getAttributeValueFromNode(a,"title")}},findContentPiece:function(a){if(a){var b=v.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_PIECE_ATTR);if(b)return v.getAttributeValueFromNode(b,this.CONTENT_PIECE_ATTR);a=this.findPieceNode(a);if(a=this.findMediaUrlInNode(a))return this.toAbsoluteUrl(a)}},findContentTarget:function(a){if(a){var b=this.findTargetNode(a);if(v.hasNodeAttributeWithValue(b,this.CONTENT_TARGET_ATTR))return v.getAttributeValueFromNode(b,this.CONTENT_TARGET_ATTR);if(v.hasNodeAttributeWithValue(b,"href"))return a=v.getAttributeValueFromNode(b,"href"),this.toAbsoluteUrl(a);a=this.findPieceNode(a);if(v.hasNodeAttributeWithValue(a,"href"))return a=v.getAttributeValueFromNode(a,"href"),this.toAbsoluteUrl(a)}},isSameDomain:function(a){if(!a||!a.indexOf)return!1;if(0===a.indexOf(this.getLocation().origin))return!0;a=a.indexOf(this.getLocation().host);return 8>=a&&0<=a?!0:!1},removeDomainIfIsInLink:function(a){a&&(a.search&&-1!==a.search(/^https?:\/\/[^/]+/)&&this.isSameDomain(a))&&((a=a.replace(/^.*\/\/[^/]+/,""))||(a="/"));return a},findMediaUrlInNode:function(a){if(a){var b=a.nodeName.toLowerCase();if(-1!==I(["img","embed","video","audio"],b)&&v.findFirstNodeHavingAttributeWithValue(a,"src"))return a=v.findFirstNodeHavingAttributeWithValue(a,"src"),v.getAttributeValueFromNode(a,"src");if("object"===b&&v.hasNodeAttributeWithValue(a,"data"))return v.getAttributeValueFromNode(a,"data");if("object"===b){if((b=v.findNodesByTagName(a,"param"))&&b.length){var c;for(c=0;c<b.length;c++)if("movie"===v.getAttributeValueFromNode(b[c],"name")&&v.hasNodeAttributeWithValue(b[c],"value"))return v.getAttributeValueFromNode(b[c],"value")}if((a=v.findNodesByTagName(a,"embed"))&&a.length)return this.findMediaUrlInNode(a[0])}}},trim:function(a){return a&&String(a)===a?a.replace(/^\s+|\s+$/g,""):a},isOrWasNodeInViewport:function(a){if(!a||!a.getBoundingClientRect||1!==a.nodeType)return!0;var b=a.getBoundingClientRect(),c=r.documentElement||{},d=0>b.top;d&&a.offsetTop&&(d=0<a.offsetTop+b.height);a=c.clientWidth;w.innerWidth&&a>w.innerWidth&&(a=w.innerWidth);c=c.clientHeight;w.innerHeight&&c>w.innerHeight&&(c=w.innerHeight);return(0<b.bottom||d)&&0<b.right&&b.left<a&&(b.top<c||d)},isNodeVisible:function(a){var b=E(a);a=this.isOrWasNodeInViewport(a);return b&&a},buildInteractionRequestParams:function(a,b,c,d){var e="";a&&(e+="c_i="+A(a));b&&(e&&(e+="&"),e+="c_n="+A(b));c&&(e&&(e+="&"),e+="c_p="+A(c));d&&(e&&(e+="&"),e+="c_t="+A(d));return e},buildImpressionRequestParams:function(a,b,c){a="c_n="+A(a)+"&c_p="+A(b);c&&(a+="&c_t="+A(c));return a},buildContentBlock:function(a){if(a){var b=this.findContentName(a),c=this.findContentPiece(a);a=this.findContentTarget(a);b=this.trim(b);c=this.trim(c);a=this.trim(a);return{name:b||"Unknown",piece:c||"Unknown",target:a||""}}},collectContent:function(b){if(!b||!b.length)return[];var c=[],d,e;for(d=0;d<b.length;d++)e=this.buildContentBlock(b[d]),a(e)&&c.push(e);return c},setLocation:function(a){this.location=a},getLocation:function(){var a=this.location||w.location;a.origin||(a.origin=a.protocol+"//"+a.hostname+(a.port?":"+a.port:""));return a},toAbsoluteUrl:function(a){return a&&String(a)===a||""===a?""===a?this.getLocation().href:-1!==a.search(/^\/\//)?this.getLocation().protocol+a:-1!==a.search(/:\/\//)?a:0===a.indexOf("#")||0===a.indexOf("?")?this.getLocation().origin+this.getLocation().pathname+a:0===a.search("^[a-zA-Z]{2,11}:")?a:-1!==a.search(/^\//)?this.getLocation().origin+a:this.getLocation().origin+this.getLocation().pathname.match(/(.*\/)/)[0]+a:a},isUrlToCurrentDomain:function(a){a=this.toAbsoluteUrl(a);if(!a)return!1;var b=this.getLocation().origin;return b===a?!0:0===String(a).indexOf(b)?":"===String(a).substr(b.length,1)?!1:!0:!1},setHrefAttribute:function(a,b){a&&b&&v.setAnyAttribute(a,"href",b)},shouldIgnoreInteraction:function(a){var b=v.hasNodeAttribute(a,this.CONTENT_IGNOREINTERACTION_ATTR);a=v.hasNodeCssClass(a,this.CONTENT_IGNOREINTERACTION_CLASS);return b||a}};f(w,"beforeunload",function(){var a;p("unload");if(j){do a=new Date;while(a.getTimeAlias()<j)}},!1);(function(){var a;r.addEventListener?f(r,"DOMContentLoaded",function ma(){r.removeEventListener("DOMContentLoaded",ma,!1);g()}):r.attachEvent&&(r.attachEvent("onreadystatechange",function N(){"complete"===r.readyState&&(r.detachEvent("onreadystatechange",N),g())}),r.documentElement.doScroll&&w===w.top&&function ca(){if(!G){try{r.documentElement.doScroll("left")}catch(a){setTimeout(ca,0);return}g()}}());/WebKit/.test(D.userAgent)&&(a=setInterval(function(){if(G||/loaded|complete/.test(r.readyState))clearInterval(a),g()},10));f(w,"load",g,!1)})();Date.prototype.getTimeAlias=Date.prototype.getTime;B=new da;var $={setTrackerUrl:1,setAPIUrl:1,setUserId:1,setUserCookieId:1,setClientId:1,setPortalId:1,setpropId:1,disableCookies:1,enableLinkTracking:1},L;for(z=0;z<_paqAcdp.length;z++)L=_paqAcdp[z][0],$[L]&&(e(_paqAcdp[z]),delete _paqAcdp[z],1<$[L]&&void 0!==console&&(console&&console.error)&&console.error("The method "+L+' is registered more than once in "_paq" variable. Only the last call has an effect. Please have a look at the multiple Piwik trackers documentation: http://developer.piwik.org/guides/tracking-javascript-guide#multiple-piwik-trackers'),$[L]++);for(z=0;z<_paqAcdp.length;z++)_paqAcdp[z]&&e(_paqAcdp[z]);_paqAcdp=new function(){return{push:e}};F={addPlugin:function(a,b){ia[a]=b},getTracker:function(b,c){a(c)||(c=this.getAsyncTracker().getpropId());a(b)||(b=this.getAsyncTracker().getTrackerUrl());return new da(b,c)},getAsyncTracker:function(){return B}};"function"===typeof define&&define.amd&&define("piwik",[],function(){return F});return F}());window&&window.piwikAcdpAsyncInit&&window.piwikAcdpAsyncInit();(function(){"undefined"===typeof AnalyticsTracker&&(AnalyticsTracker=PiwikAcdp)})();"function"!==typeof piwik_acdp_log&&(piwik_acdp_log=function(a,b,c,d){function e(a){try{return eval("piwik_"+a)}catch(b){}}var f=PiwikAcdp.getTracker(c,b);f.setDocumentTitle(a);f.setCustomData(d);(a=e("tracker_pause"))&&f.setLinkTrackingTimer(a);(a=e("download_extensions"))&&f.setDownloadExtensions(a);(a=e("hosts_alias"))&&f.setDomains(a);(a=e("ignore_classes"))&&f.setIgnoreClasses(a);f.trackPageView();e("install_tracker")&&(piwik_track=function(a,b,c,d){f.setpropId(b);f.setTrackerUrl(c);f.trackLink(a,d)},f.enableLinkTracking())});function _ac_isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}if(9==_ac_isIE())try{var STATIC_FILE_URL="//st-a.cdp.asia";_antsLoadScript(STATIC_FILE_URL+"/ie9.js")}catch(ex$$1){}function _ac_b64ToUint6(a){return 64<a&&91>a?a-65:96<a&&123>a?a-71:47<a&&58>a?a+4:43===a?62:47===a?63:0}function _ac_base64DecToArr(a,b){try{for(var c=a.replace(/[^A-Za-z0-9\+\/]/g,""),d=c.length,e=b?Math.ceil((3*d+1>>2)/b)*b:3*d+1>>2,f=new Uint8Array(e),p,g,n=0,t=0,u=0;u<d;u++)if(g=u&3,n|=_ac_b64ToUint6(c.charCodeAt(u))<<6*(3-g),3===g||1===d-u){for(p=0;3>p&&t<e;p++,t++)f[t]=n>>>(16>>>p&24)&255;n=0}return f}catch(q){return""}}function uint6ToB64(a){return 26>a?a+65:52>a?a+71:62>a?a-4:62===a?43:63===a?47:65}function _ac_base64EncArr(a){for(var b=2,c="",d=a.length,e=0,f=0;f<d;f++)if(b=f%3,0<f&&0===4*f/3%76&&(c+="\r\n"),e|=a[f]<<(16>>>b&24),2===b||1===a.length-f)c+=String.fromCharCode(uint6ToB64(e>>>18&63),uint6ToB64(e>>>12&63),uint6ToB64(e>>>6&63),uint6ToB64(e&63)),e=0;return c.substr(0,c.length-2+b)+(2===b?"":1===b?"=":"==")}function _ac_UTF8ArrToStr(a){for(var b="",c,d=a.length,e=0;e<d;e++)c=a[e],b+=String.fromCharCode(251<c&&254>c&&e+5<d?1073741824*(c-252)+(a[++e]-128<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:247<c&&252>c&&e+4<d?(c-248<<24)+(a[++e]-128<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:239<c&&248>c&&e+3<d?(c-240<<18)+(a[++e]-128<<12)+(a[++e]-128<<6)+a[++e]-128:223<c&&240>c&&e+2<d?(c-224<<12)+(a[++e]-128<<6)+a[++e]-128:191<c&&224>c&&e+1<d?(c-192<<6)+a[++e]-128:c);return b}function _ac_strToUTF8Arr(a){var b,c;b=a.length;for(var d=0,e=0;e<b;e++)c=a.charCodeAt(e),d+=128>c?1:2048>c?2:65536>c?3:2097152>c?4:67108864>c?5:6;b=new Uint8Array(d);for(var f=e=0;e<d;f++)c=a.charCodeAt(f),128>c?b[e++]=c:(2048>c?b[e++]=192+(c>>>6):(65536>c?b[e++]=224+(c>>>12):(2097152>c?b[e++]=240+(c>>>18):(67108864>c?b[e++]=248+(c>>>24):(b[e++]=252+(c>>>30),b[e++]=128+(c>>>24&63)),b[e++]=128+(c>>>18&63)),b[e++]=128+(c>>>12&63)),b[e++]=128+(c>>>6&63)),b[e++]=128+(c&63));return b}function _ac_encryptBase64(a){if(9==_ac_isIE())return a;a=_ac_strToUTF8Arr(a);return _ac_base64EncArr(a)}function _ac_decryptBase64(a){if(9==_ac_isIE())return a;a=_ac_base64DecToArr(a);return _ac_UTF8ArrToStr(a)};var aiHelper=aiHelper||{};window.aiHelper.metaHelper=function(){this.init=function(){};this.getSectionByBreadCrumb=function(){var a=ai_meta_helper.getSectionByBreadCrumbByWithoutMarkup();if(void 0==a||""==a)a=ai_meta_helper.getSectionByBreadCrumbBySchemaOrg();return a};this.getSectionByBreadCrumbByWithoutMarkup=function(){var a="",b=null;try{if(null!==document.querySelector(".breadcrumb")){if(b=document.querySelector(".breadcrumb").querySelectorAll("li"),void 0==b||null==b||0>=b.length)b=document.querySelector(".breadcrumb").querySelectorAll("a")}else null!==document.querySelector('[itemprop="breadcrumb"]')&&(b=document.querySelectorAll('[itemprop="breadcrumb"]'));void 0!=b&&(null!=b&&0<b.length)&&(b.forEach(function(b){void 0!=b.innerText&&""!=b.innerText&&(b=b.innerText.trim(),""==b||50<b.length||(a+="/"+b))}),""!==a&&(a=a.substring(1)))}catch(c){}return a};this.getSectionByBreadCrumbBySchemaOrg=function(){var a="";try{var b=document.querySelector('script[type="application/ld+json"]');if(void 0!=b&&null!=b&&void 0!=b.innerText&&""!=b.innerText&&0<b.innerText.indexOf("schema.org")){var c=JSON.parse(b.innerText),b=!1;if("[object Array]"!==Object.prototype.toString.call(c)){var d=c,c=[];c.push(d)}for(var d=0,e=c.length;d<e&&!b;d++){var f=c[d],p=f["@type"];if("BreadcrumbList"==p){for(var b=!0,g=f.itemListElement,n=0,e=g.length;n<e;n++){var t=g[n].item.name;void 0!=t&&""!=t&&(t=t.trim());""==t||50<t.length||(a+="/"+t)}""!==a&&(a=a.substring(1))}else if("WebSite"==p){b=!0;a=f.name;break}}}if(""==a){var u=document.querySelectorAll('li[itemprop="itemListElement"]');if(void 0==u||""==u||null==u)u=document.querySelectorAll('li[property="itemListElement"]');void 0!=u&&(""!=u&&null!=u)&&(u.forEach(function(b){if(void 0!=b.innerText&&""!=b.innerText){b=b.innerText.trim();if(""==b||50<b.length)return!1;a+="/"+b}}),""!==a&&(a=a.substring(1)))}}catch(q){}return a}};window.aiHelper.urlHelper=function(){this.getSectionByAutoUrl=function(a){var b="";try{"undefined"===typeof a&&(a=window.location.href);var c=a.split("//");if("string"===typeof c[1]){var d=c[1],c=c[1].split("/");1>=c.length&&(c=d.split("#"));4<c.length&&(c.length=4);b=this.mappingSection(c)}else b=""}catch(e){}return b};this.mappingSection=function(a){var b="",c=a.length;if(1>=c||1>=a[1].length)return"home";for(i=1;i<c;i++)if(i==c-1){var d=this.validSectionLast(a[i]);null!=d&&(b=""==b?d:b+"/"+d)}else null!=this.validSection(a[i])&&(b=0==b.length?b+a[i]:b+"/"+a[i]);return b};this.validSection=function(a){if(2>a.length||50<a.length||-1<a.indexOf("?")||-1<a.indexOf(".")||-1<a.indexOf("#"))a=null;return a};this.validSectionLast=function(a){return-1<a.indexOf("?")&&(-1<a.indexOf("search")||-1<a.indexOf("query"))?"search":-1<a.indexOf("?")&&-1<a.indexOf("tag")?"tag":-1<a.indexOf("?")?null:2>a.length||50<a.length||-1<a.indexOf("index")||-1<a.indexOf("default")?null:a.split(".")[0]}};var ai_meta_helper=new window.aiHelper.metaHelper,ai_url_helper=new window.aiHelper.urlHelper;window.aiHelper.sectionHelper=function(){this.getSections=function(){var a="";try{if(a=ai_meta_helper.getSectionByBreadCrumb(),void 0==a||""==a)a=ai_url_helper.getSectionByAutoUrl()}catch(b){}if(""==a||void 0==a)a=!1;return a}};var ai_section_helper=new window.aiHelper.sectionHelper;var _CDP_LOG_TRACKING_URL="//a.cdp.asia",_CDP_STATIC_FILE_URL="//st-a.cdp.asia",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery",_CDP_ALLOW_CONSOLE_LOG=!1,ONESIGNAL_SDK_URL="//cdn.onesignal.com/sdks/OneSignalSDK.js",_CDP_CUSTOM_EVENT_URL="//st-a.cdp.asia/custom-event.js",_CDP_ENV="prod",_SCRIPT_VER="20230606",MAX_LENGTH_HTTP_REQUEST=1800;try{"staging"==_CDP_SDK_ENV&&(_CDP_ENV="staging")}catch(ex$$7){}try{"staging"==_CDP_SDK_EVN&&(_CDP_ENV="staging")}catch(ex$$8){}"sandbox"==_CDP_ENV?(_CDP_LOG_TRACKING_URL="//sandbox-a.cdp.asia",_CDP_STATIC_FILE_URL="//sandbox-st-a.cdp.asia",_CDP_DELIVERY_URL="//sandbox-st-e.cdp.asia/san-delivery",_CDP_CUSTOM_EVENT_URL="//sandbox-st-a.cdp.asia/custom-event.js"):"staging"==_CDP_ENV?_CDP_LOG_TRACKING_URL="//staging-a.cdp.asia":"vtv"==_CDP_ENV?(_CDP_LOG_TRACKING_URL="//a.vtvdigital.vn",_CDP_STATIC_FILE_URL="//st-a.vtvdigital.vn",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery"):"vtv_v2"==_CDP_ENV&&(_CDP_LOG_TRACKING_URL="//a-v2.vtvdigital.vn",_CDP_STATIC_FILE_URL="//st-a.vtvdigital.vn",_CDP_DELIVERY_URL="//st-e.cdp.asia/delivery");var web_event=web_event||{};web_event.version="1.0";web_event.loaded=1;web_event.locked=!1;var _cdp365SentPageviewUri="",_cdp365ClickRedirectUri=0,CDP_UID_1ST_COOKIE_NAME="_asm_uid",CDP_UID_3RD_COOKIE_NAME="au_id",CDP_VISITOR_TYPE_COOKIE_NAME="_asm_visitor_type",_CDP_GA_ACCOUNT_TRACKING_ID=_CDP_GA_ACCOUNT_TRACKING_ID||"",firstPartyUserId="",_portalId=_portalId||0,_propId=_propId||0,_uidfData=_uidfData||{},_CDP_DELIVERY_TRIGGER=_CDP_DELIVERY_TRIGGER;"undefined"==typeof _CDP_DELIVERY_TRIGGER&&(_CDP_DELIVERY_TRIGGER=!0);var _CDP_CUSTOM_EVENT=_CDP_CUSTOM_EVENT;"undefined"==typeof _CDP_CUSTOM_EVENT&&(_CDP_CUSTOM_EVENT=!0);var _cdp365Analytics=_cdp365Analytics||{},cdpEventFunctionHelper=cdpEventFunctionHelper||{};window.cdpEventFunctionHelper=function(){this.init=function(){window._cdpEventFunction.checkAndSyncExtUIDs()};this.replaceAll=function(a,b,c){return void 0!=a&&""!=a?a.replace(RegExp(b,"g"),c):a};this.setCookie=function(a,b,c,d,e,f){var p;void 0!=c&&(p=new Date,p.setTime(p.getTime()+c));var g=b+"";isNaN(b)&&(g=window.encodeURIComponent(b));a=a+"="+g+(c?";expires="+p.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(f?";secure":"");document.cookie=a};this.logInfo=function(a,b){_CDP_ALLOW_CONSOLE_LOG&&(void 0!=b?console.log(a,b):console.log(a))};this.getCookie=function(a){return(cookieMatch=RegExp("(^|;)[ ]*"+a+"=([^;]*)").exec(document.cookie))?window.decodeURIComponent(cookieMatch[2]):0};this.getUriParameter=function(a,b){try{for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==b){var f=e[1];""!=f&&150<f.length&&(f="");return f}}}catch(p){}return""};this.getURLParameter=function(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a){var e=d[1];""!=e&&150<e.length&&(e="");return e}}try{var f=window.location.href;if(0>f.indexOf("?utm")&&0<f.indexOf("utm_"))for(var p=f.substring(f.indexOf("utm_")),b=p.split("&"),c=0;c<b.length;c++)if(d=b[c].split("="),d[0]==a)return e=d[1],""!=e&&50<e.length&&(e=""),e}catch(g){}try{if(f=window.location.href,0<f.indexOf("?utm"))for(p=f.substring(f.indexOf("?utm")+1),b=p.split("&"),c=0;c<b.length;c++)if(d=b[c].split("="),d[0]==a)return e=d[1],""!=e&&50<e.length&&(e=""),e}catch(n){}return""};this.getReferrer=function(){var a="";try{a=window.top.document.referrer}catch(b){if(window.parent)try{a=window.parent.document.referrer}catch(c){a=""}}""===a&&(a=document.referrer);return a};this.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};this.getHostName=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a};this.checkHomePage=function(){var a=window.location.hostname,b=window.location.href,c="http://"+a+"/";0<=b.indexOf("https://")&&(c="https://"+a+"/");return c==b?1:0};this.checkIsWebview=function(){var a=!1;try{var b=window.navigator.standalone,c=window.navigator.userAgent.toLowerCase(),d=/safari/.test(c);if(/iphone|ipod|ipad/.test(c)){if(b||!d)b||d||(a=!0)}else c.includes("wv")&&(a=!0)}catch(e){}return a};this.getReferrerDomain=function(a){a="";var b=window._cdpEventFunction.getReferrer();void 0!=b&&(""!=b&&0<b.length)&&(b=window._cdpEventFunction.getHostName(b),void 0!=b&&""!=b&&(a=b.replace("www.","")));return a};this.getDefaultCookieDomain=function(){try{for(var a="net com edu org gov biz info".split(" "),b=0,c=a.length;b<c;++b)a.push(a[b]+"\\.vn"),a.push(a[b]+"\\.ph"),a.push(a[b]+"\\.us"),a.push(a[b]+"\\.id"),a.push(a[b]+"\\.sg"),a.push(a[b]+"\\.jp");a.push("vn");a.push("us");a.push("id");a.push("ph");a.push("jp");a.push("sg");var d=RegExp("(\\.?[^.]+\\.("+a.join("|")+")$)"),e=document.domain.match(d),f;null!==e?f=e[1]:(e=document.domain.match(/(\.?[^.]+\.?[^.]+$)/),null!==e&&(f=e[1]));"."==f[0]&&(f=f.substr(1));return f}catch(p){try{return document.domain}catch(g){return""}}};this.sha1=function(a){var b=function(a,b){return a<<b|a>>>32-b},c=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},d,e,f=[],p=1732584193,g=4023233417,n=2562383102,t=271733878,u=3285377520,q,h,l,m,k,y=[];a=utf8_encode(a);q=a.length;for(d=0;d<q-3;d+=4)e=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),y.push(e);switch(q&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(q-1)<<24|8388608;break;case 2:d=a.charCodeAt(q-2)<<24|a.charCodeAt(q-1)<<16|32768;break;case 3:d=a.charCodeAt(q-3)<<24|a.charCodeAt(q-2)<<16|a.charCodeAt(q-1)<<8|128}for(y.push(d);14!==(y.length&15);)y.push(0);y.push(q>>>29);y.push(q<<3&4294967295);for(a=0;a<y.length;a+=16){for(d=0;16>d;d++)f[d]=y[a+d];for(d=16;79>=d;d++)f[d]=b(f[d-3]^f[d-8]^f[d-14]^f[d-16],1);e=p;q=g;h=n;l=t;m=u;for(d=0;19>=d;d++)k=b(e,5)+(q&h|~q&l)+m+f[d]+1518500249&4294967295,m=l,l=h,h=b(q,30),q=e,e=k;for(d=20;39>=d;d++)k=b(e,5)+(q^h^l)+m+f[d]+1859775393&4294967295,m=l,l=h,h=b(q,30),q=e,e=k;for(d=40;59>=d;d++)k=b(e,5)+(q&h|q&l|h&l)+m+f[d]+2400959708&4294967295,m=l,l=h,h=b(q,30),q=e,e=k;for(d=60;79>=d;d++)k=b(e,5)+(q^h^l)+m+f[d]+3395469782&4294967295,m=l,l=h,h=b(q,30),q=e,e=k;p=p+e&4294967295;g=g+q&4294967295;n=n+h&4294967295;t=t+l&4294967295;u=u+m&4294967295}k=c(p)+c(g)+c(n)+c(t)+c(u);return k.toLowerCase()};this._cdpGetLeadTime=function(){var a=new Date,b=a.getMonth()+1;10>parseInt(b)&&(b="0"+b);var c=a.getDate();10>parseInt(c)&&(c="0"+c);var d=a.getHours();10>parseInt(d)&&(d="0"+d);var e=a.getMinutes();10>parseInt(e)&&(e="0"+e);var f=a.getSeconds();10>parseInt(f)&&(f="0"+f);return a.getFullYear()+"-"+b+"-"+c+" "+d+":"+e+":"+f};this.md5=function(a){function b(a,b){var c,d,e,k,f;e=a&2147483648;k=b&2147483648;c=a&1073741824;d=b&1073741824;f=(a&1073741823)+(b&1073741823);return c&d?f^2147483648^e^k:c|d?f&1073741824?f^3221225472^e^k:f^1073741824^e^k:f^e^k}function c(a,c,d,e,k,f,g){a=b(a,b(b(c&d|~c&e,k),g));return b(a<<f|a>>>32-f,c)}function d(a,c,d,e,k,f,g){a=b(a,b(b(c&e|d&~e,k),g));return b(a<<f|a>>>32-f,c)}function e(a,c,d,e,k,f,g){a=b(a,b(b(c^d^e,k),g));return b(a<<f|a>>>32-f,c)}function f(a,c,d,e,k,f,g){a=b(a,b(b(d^(c|~e),k),g));return b(a<<f|a>>>32-f,c)}function p(a){var b="",c="",d;for(d=0;3>=d;d++)c=a>>>8*d&255,c="0"+c.toString(16),b+=c.substr(c.length-2,2);return b}var g=[],n,t,u,q,h,l,m,k;a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);g=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),e=Array(d-1),k=0,f=0;f<c;)b=(f-f%4)/4,k=8*(f%4),e[b]|=a.charCodeAt(f)<<k,f++;b=(f-f%4)/4;e[b]|=128<<8*(f%4);e[d-2]=c<<3;e[d-1]=c>>>29;return e}(a);h=1732584193;l=4023233417;m=2562383102;k=271733878;for(a=0;a<g.length;a+=16)n=h,t=l,u=m,q=k,h=c(h,l,m,k,g[a+0],7,3614090360),k=c(k,h,l,m,g[a+1],12,3905402710),m=c(m,k,h,l,g[a+2],17,606105819),l=c(l,m,k,h,g[a+3],22,3250441966),h=c(h,l,m,k,g[a+4],7,4118548399),k=c(k,h,l,m,g[a+5],12,1200080426),m=c(m,k,h,l,g[a+6],17,2821735955),l=c(l,m,k,h,g[a+7],22,4249261313),h=c(h,l,m,k,g[a+8],7,1770035416),k=c(k,h,l,m,g[a+9],12,2336552879),m=c(m,k,h,l,g[a+10],17,4294925233),l=c(l,m,k,h,g[a+11],22,2304563134),h=c(h,l,m,k,g[a+12],7,1804603682),k=c(k,h,l,m,g[a+13],12,4254626195),m=c(m,k,h,l,g[a+14],17,2792965006),l=c(l,m,k,h,g[a+15],22,1236535329),h=d(h,l,m,k,g[a+1],5,4129170786),k=d(k,h,l,m,g[a+6],9,3225465664),m=d(m,k,h,l,g[a+11],14,643717713),l=d(l,m,k,h,g[a+0],20,3921069994),h=d(h,l,m,k,g[a+5],5,3593408605),k=d(k,h,l,m,g[a+10],9,38016083),m=d(m,k,h,l,g[a+15],14,3634488961),l=d(l,m,k,h,g[a+4],20,3889429448),h=d(h,l,m,k,g[a+9],5,568446438),k=d(k,h,l,m,g[a+14],9,3275163606),m=d(m,k,h,l,g[a+3],14,4107603335),l=d(l,m,k,h,g[a+8],20,1163531501),h=d(h,l,m,k,g[a+13],5,2850285829),k=d(k,h,l,m,g[a+2],9,4243563512),m=d(m,k,h,l,g[a+7],14,1735328473),l=d(l,m,k,h,g[a+12],20,2368359562),h=e(h,l,m,k,g[a+5],4,4294588738),k=e(k,h,l,m,g[a+8],11,2272392833),m=e(m,k,h,l,g[a+11],16,1839030562),l=e(l,m,k,h,g[a+14],23,4259657740),h=e(h,l,m,k,g[a+1],4,2763975236),k=e(k,h,l,m,g[a+4],11,1272893353),m=e(m,k,h,l,g[a+7],16,4139469664),l=e(l,m,k,h,g[a+10],23,3200236656),h=e(h,l,m,k,g[a+13],4,681279174),k=e(k,h,l,m,g[a+0],11,3936430074),m=e(m,k,h,l,g[a+3],16,3572445317),l=e(l,m,k,h,g[a+6],23,76029189),h=e(h,l,m,k,g[a+9],4,3654602809),k=e(k,h,l,m,g[a+12],11,3873151461),m=e(m,k,h,l,g[a+15],16,530742520),l=e(l,m,k,h,g[a+2],23,3299628645),h=f(h,l,m,k,g[a+0],6,4096336452),k=f(k,h,l,m,g[a+7],10,1126891415),m=f(m,k,h,l,g[a+14],15,2878612391),l=f(l,m,k,h,g[a+5],21,4237533241),h=f(h,l,m,k,g[a+12],6,1700485571),k=f(k,h,l,m,g[a+3],10,2399980690),m=f(m,k,h,l,g[a+10],15,4293915773),l=f(l,m,k,h,g[a+1],21,2240044497),h=f(h,l,m,k,g[a+8],6,1873313359),k=f(k,h,l,m,g[a+15],10,4264355552),m=f(m,k,h,l,g[a+6],15,2734768916),l=f(l,m,k,h,g[a+13],21,1309151649),h=f(h,l,m,k,g[a+4],6,4149444226),k=f(k,h,l,m,g[a+11],10,3174756917),m=f(m,k,h,l,g[a+2],15,718787259),l=f(l,m,k,h,g[a+9],21,3951481745),h=b(h,n),l=b(l,t),m=b(m,u),k=b(k,q);return(p(h)+p(l)+p(m)+p(k)).toLowerCase()};this.getPageviewIDAI=function(){if(null!=("undefined"!==typeof window&&null!==window?window._ispv:void 0))return"undefined"!==typeof window&&null!==window?window._ispv:void 0;"undefined"!==typeof window&&null!==window&&(window._ispv=(new Date).getTime());return"undefined"!==typeof window&&null!==window?window._ispv:void 0};this._ea_get_utm=function(){var a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};try{var b=window.location.href;if(0<b.indexOf("utm_"))return a={source:window._cdpEventFunction.getURLParameter("utm_source"),medium:window._cdpEventFunction.getURLParameter("utm_medium"),campaign:window._cdpEventFunction.getURLParameter("utm_campaign"),content:window._cdpEventFunction.getURLParameter("utm_content"),term:window._cdpEventFunction.getURLParameter("utm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"};if(0<b.indexOf("code_chanel"))return a={source:window._cdpEventFunction.getURLParameter("code_chanel"),medium:"",campaign:window._cdpEventFunction.getURLParameter("id_campaign"),content:window._cdpEventFunction.getURLParameter("id_landingpage"),term:window._cdpEventFunction.getURLParameter("id"),type:"direct",time:(new Date).getTime(),checksum:""},a.checksum=_ea_utm_checksum(a),a;if(0<b.indexOf("itm_"))return a={source:window._cdpEventFunction.getURLParameter("itm_source"),medium:window._cdpEventFunction.getURLParameter("itm_medium"),campaign:window._cdpEventFunction.getURLParameter("itm_campaign"),content:window._cdpEventFunction.getURLParameter("itm_content"),term:window._cdpEventFunction.getURLParameter("itm_term"),type:"associate_itm",time:(new Date).getTime(),checksum:"",checksum:"*"};if(0<b.indexOf("doubleclick")||0<b.indexOf("gclsrc"))return a={source:"google",medium:"cpc",campaign:"DoubleClick",content:"DoubleClick",term:"DoubleClick",type:"referrer",time:(new Date).getTime(),checksum:""},a.checksum=window._cdpEventFunction._ea_utm_checksum(a),a;if(0<b.indexOf("gclid"))return a={source:"google",medium:"cpc",campaign:"adwords",content:"adwords",term:"adwords",type:"referrer",time:(new Date).getTime(),checksum:""},a.checksum=window._cdpEventFunction._ea_utm_checksum(a),a;var c=window._cdpEventFunction.getCookie("_utm_objs");if((void 0==c||""==c)&&"undefined"!==typeof Storage)try{c=window.localStorage._utm_objs}catch(d){}if(void 0!=c&&""!=c){var e=_ac_decryptBase64(c);if(void 0!=e&&""!=e){var a=JSON2.parse(e),f=window._cdpEventFunction._ea_utm_checksum(a);if(f==a.checksum||"*"==a.checksum)return a}}if("undefined"!==typeof Storage)try{if(c=window.localStorage._utm_objs,void 0!=c&&""!=c){e=_ac_decryptBase64(c);if(void 0!=e&&""!=e&&(a=JSON2.parse(e),f=window._cdpEventFunction._ea_utm_checksum(a),f!=a.checksum&&"*"!=a.checksum))return a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};var p=a.time+15552E6;if((new Date).getTime()>p)window.localStorage._utm_objs="";else{b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(g){}window._cdpEventFunction.setCookie("_utm_objs",c,15552E6,"/",b,0);return a}}}catch(n){}}catch(t){}return a};this._ea_utm_checksum=function(a){try{return _ac_encryptBase64(a.source+"-"+a.medium+"-"+a.campaign+"-"+a.time)}catch(b){}return""};this._ea_save_utm=function(a){try{var b="",c=!1,d=window.location.href;if(0<d.indexOf("utm_"))var e={source:window._cdpEventFunction.getURLParameter("utm_source"),medium:window._cdpEventFunction.getURLParameter("utm_medium"),campaign:window._cdpEventFunction.getURLParameter("utm_campaign"),content:window._cdpEventFunction.getURLParameter("utm_content"),term:window._cdpEventFunction.getURLParameter("utm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"},b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("code_chanel"))e={source:window._cdpEventFunction.getURLParameter("code_chanel"),medium:"",campaign:window._cdpEventFunction.getURLParameter("id_campaign"),content:window._cdpEventFunction.getURLParameter("id_landingpage"),term:window._cdpEventFunction.getURLParameter("id"),type:"direct",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("itm_"))e={source:window._cdpEventFunction.getURLParameter("itm_source"),medium:window._cdpEventFunction.getURLParameter("itm_medium"),campaign:window._cdpEventFunction.getURLParameter("itm_campaign"),content:window._cdpEventFunction.getURLParameter("itm_content"),term:window._cdpEventFunction.getURLParameter("itm_term"),type:"associate_itm",time:(new Date).getTime(),checksum:"",checksum:"*"},b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("doubleclick")||0<d.indexOf("gclsrc"))e={source:"google",medium:"cpc",campaign:"DoubleClick",content:"DoubleClick",term:"DoubleClick",type:"referrer",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else if(0<d.indexOf("gclid"))e={source:"google",medium:"cpc",campaign:"adwords",content:"adwords",term:"adwords",type:"referrer",time:(new Date).getTime(),checksum:""},e.checksum=window._cdpEventFunction._ea_utm_checksum(e),b=JSON2.stringify(e),c=!0;else{var f=window._cdpEventFunction.getReferrerDomain(),p=window._cdpEventFunction.getDefaultCookieDomain(),g=window._cdpEventFunction._ea_get_utm();if(void 0!=f&&""!=f&&void 0!=p&&""!=p&&0>f.indexOf(p)||""==g.source&&void 0!=f&&""!=f&&0>f.indexOf(p)){if(d=f,f="referrer",p="","undefined"==typeof a||!a.includes(d)){if(void 0!=d&&""!=d)if(0<d.indexOf("googleadservices")||0<d.indexOf("gclid"))d="google",f="cpc",p="adwords";else if(0<d.indexOf("doubleclick")||0<d.indexOf("gclsrc"))d="google",f="cpc",p="doubleclick";e={source:d,medium:f,campaign:p,content:"",term:"",type:"referrer",time:(new Date).getTime(),checksum:""};c=!0;e.checksum=window._cdpEventFunction._ea_utm_checksum(e);b=JSON2.stringify(e)}}else""==f&&(void 0!=p&&""!=p&&""==g.source)&&(b="",c=!0)}if(c){var n=_ac_encryptBase64(b);a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(t){}window._cdpEventFunction.setCookie("_utm_objs",n,15552E6,"/",a,0);"undefined"!==typeof Storage&&(c||b)&&(window.localStorage._utm_objs=n)}}catch(u){}};this._ea_get_atm=function(){var a=window._cdpEventFunction._ea_get_atm_detail();try{if("direct"==a.type)return a;var b=window.location.href,c=0<b.indexOf("?utm_")||0<b.indexOf("&utm_"),c=c||0<b.indexOf("?itm_")||0<b.indexOf("&itm_");if(!c&&""!=a.type&&"undefined"!=typeof a.type)return a;"undefined"==typeof _ATM_TRACKING_ASSOCIATE_UTM?_ATM_TRACKING_ASSOCIATE_UTM=1:c&&(_ATM_TRACKING_ASSOCIATE_UTM=1);if(0<parseInt(_ATM_TRACKING_ASSOCIATE_UTM)){var d=window._cdpEventFunction._ea_get_utm();void 0!=d.source&&""!=d.source&&(a.source=d.source,a.time=d.time,a.type="associate_utm");a.campaign=void 0!=d.campaign&&""!=d.campaign?d.campaign:"";a.medium=void 0!=d.medium&&""!=d.medium?d.medium:"";a.content=void 0!=d.content&&""!=d.content?d.content:"";a.term=void 0!=d.term&&""!=d.term?d.term:"";a.checksum="*";window._cdpEventFunction._ea_save_atm(a);return a}}catch(e){}return a};this._ea_get_atm_detail=function(){var a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};try{if(0<window.location.href.indexOf("atm_"))return a={source:window._cdpEventFunction.getURLParameter("atm_source"),medium:window._cdpEventFunction.getURLParameter("atm_medium"),campaign:window._cdpEventFunction.getURLParameter("atm_campaign"),content:window._cdpEventFunction.getURLParameter("atm_content"),term:window._cdpEventFunction.getURLParameter("atm_term"),type:"direct",time:(new Date).getTime(),checksum:"",checksum:"*"},window._cdpEventFunction._ea_save_atm(a),a;var b=window._cdpEventFunction.getCookie("_atm_objs");if((void 0==b||""==b)&&"undefined"!==typeof Storage)try{b=window.localStorage._atm_objs}catch(c){}if(void 0!=b&&""!=b){var d=_ac_decryptBase64(b);if(void 0!=d&&""!=d)return a=JSON2.parse(d),a.type="on_session",a}if("undefined"!==typeof Storage)try{if(b=window.localStorage._atm_objs,void 0!=b&&""!=b){d=_ac_decryptBase64(b);void 0!=d&&""!=d&&(a=JSON2.parse(d));var e=a.time+15552E6;if((new Date).getTime()>e)window.localStorage._atm_objs="",a={source:"",medium:"",campaign:"",content:"",term:"",type:"",checksum:""};else{d="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain)}catch(f){}window._cdpEventFunction.setCookie("_atm_objs",b,15552E6,"/",d,0);a.type="on_session"}return a}}catch(p){}}catch(g){}return a};this._ea_check_atm_save=0;this._ea_save_atm=function(a){try{if(1!=window._cdpEventFunction._ea_check_atm_save){var b=JSON2.stringify(a),c=_ac_encryptBase64(b);a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie("_atm_objs",c,15552E6,"/",a,0);window._cdpEventFunction._ea_check_atm_save=1;"undefined"!==typeof Storage&&b&&(window.localStorage._atm_objs=c)}}catch(e){}};this._ea_save_event=function(a){try{if(void 0!=a&&""!=a){var b={action:a,time:(new Date).getTime()},c=JSON2.stringify(b);key="_is_event_his";window._cdpEventFunction.setCookie(key,c,36E5,"/","",0);"undefined"!==typeof Storage&&key&&localStorage.setItem(key,_is_gc)}}catch(d){}};this._ea_get_event=function(){var a="";try{key="_is_event_his";var b="",c=window._cdpEventFunction.getCookie(key);if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{if(c=localStorage.getItem(key),void 0!=c&&""!=c){var b=JSON2.parse(c),d=b.time+36E5;(new Date).getTime()>d&&localStorage.setItem(key,"")}}catch(e){}""!=b&&(a=b.action)}catch(f){}return a};this._ea_save_click_beacon_cookie=function(a,b,c,d){try{if(void 0!=a&&""!=a){var e=JSON2.stringify({click_bc:a,time:b});key="_clk_bc";a="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(a=_cdp365Analytics.first_party_domain)}catch(f){}window._cdpEventFunction.setCookie(key,e,c,"/",a,0);d&&"undefined"!==typeof Storage&&localStorage.setItem(key,e)}}catch(p){}};this._ea_save_click_beacon=function(a){try{window._cdpEventFunction._ea_save_click_beacon_cookie(a,(new Date).getTime(),15552E6,!0)}catch(b){}};this._ea_get_click_beacon=function(){var a="";try{if(0<window.location.href.indexOf("_clk_bc")){var b=window._cdpEventFunction.getURLParameter("_clk_bc");if(!1!=b&&void 0!=b&&""!=b)return window._cdpEventFunction._ea_save_click_beacon(b),b}key="_clk_bc";var b="",c=window._cdpEventFunction.getCookie(key);if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{var d=localStorage.getItem(key);if(void 0!=d&&""!=d){var b=JSON2.parse(d),e=b.time+15552E6;(new Date).getTime()>e?(localStorage.setItem(key,""),b=""):window._cdpEventFunction._ea_save_click_beacon_cookie(b.click_bc,b.time,e,!1)}}catch(f){}""!=b&&(a=b.click_bc)}catch(p){}return a};this._ea_set_cdp_cusid=function(a,b){try{if(void 0!=a&&""!=a||"undefined"!=typeof b&&b){var c=a.trim(),d="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain)}catch(e){}window._cdpEventFunction.setCookie("_cdp_cusid",c,31536E6,"/",d,0);"undefined"!==typeof Storage&&localStorage.setItem("_cdp_cusid",c)}}catch(f){}};this._ea_get_cdp_cusid=function(){try{var a=window._cdpEventFunction.getCookie("_cdp_cusid");if(void 0!=a&&""!=a)return a;if("undefined"!==typeof Storage)try{if(a=localStorage.getItem("_cdp_cusid"),void 0!=a&&""!=a)return a}catch(b){}}catch(c){}return""};this._ea_set_visitorType=function(a,b){try{var c="n";if(0==parseInt(a))if(c="r",void 0==b||null==b||""==b||0==b)c="n";else{var d=window._cdpEventFunction.getCookie("_cdp_fsid");void 0!=d&&(null!=d&&""!=d&&0!=d)&&(c="n")}else{c="n";if(void 0==b||null==b||""==b||0==b)b=1;d="";"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(d=_cdp365Analytics.first_party_domain);window._cdpEventFunction.setCookie("_cdp_fsid",b+"",18E5,"/",d,0)}d=CDP_VISITOR_TYPE_COOKIE_NAME;window._cdpEventFunction.setCookie(d,c,2592E6,"/","",0);"undefined"!==typeof Storage&&localStorage.setItem(d,c)}catch(e){}};this._ea_get_visitorType=function(){var a="new";try{var b=CDP_VISITOR_TYPE_COOKIE_NAME,a=window._cdpEventFunction.getCookie(b);if(void 0==a||null==a||""==a||0==a)a=localStorage.getItem(b);a=void 0==a||null==a||""==a||0==a||"n"==a?"new":"returning"}catch(c){}return a};this.getProductEcommeceProperty=function(a){var b=a||{};try{var c=void 0!=a.name?a.name:"";""!=c&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""),100<c.length&&(c=c.substring(0,100)));b.type="product";b.name=c;b.id=void 0!=a.id?a.id:"";"undefined"!=typeof a.sku&&(b.sku=a.sku);"undefined"!=typeof a.price&&(b.price=0<parseFloat(a.price)?parseFloat(a.price):0);"undefined"!=typeof a.quantity&&(b.quantity=0<parseFloat(a.quantity)?parseFloat(a.quantity):0);"undefined"!=typeof a.currency&&(b.currency=void 0!=a.currency?a.currency:"VND");"undefined"!=typeof a.link&&(b.link=a.link,200<b.link.length&&(b.link=b.link.substring(0,200)));"undefined"!=typeof a.page_url&&(b.page_url=a.page_url,200<b.page_url.length&&(b.page_url=b.page_url.substring(0,200)));"undefined"!=typeof a.publish_date&&(b.publish_date=a.publish_date);"undefined"!=typeof a.brand&&(b.brand=a.brand);"undefined"!=typeof a.category&&(b.category=a.category);"undefined"!=typeof a.image_url&&(b.image_url=a.image_url,null!=a.image_url&&200<b.image_url.length&&(b.image_url=b.image_url.substring(0,200)));"undefined"!=typeof a.desc&&(b.desc=a.desc);"undefined"!=typeof a.variant&&(b.variant=a.variant);"undefined"!=typeof a.others&&(b.others=a.others)}catch(d){console.log("cdp log wrn product: ",a)}return b};this.getLeadFormOnEventProperty=function(a){a=a||{};a.type="lead";a.site=window._propId;var b=void 0!=a.name?a.name:"",c=void 0!=a.phone?a.phone:"",d=void 0!=a.email?a.email:"";if(""!=c||""!=d){var e=parseInt((new Date).getTime()/1E3),b=window._cdpEventFunction.md5(b+":"+c+":"+d+":"+e);a.upkey=b;a.time_in_seconds=e}if("undefined"==typeof a.id||""==a.id)a.id=a.upkey;return a};this.getItemOnEventProperty=function(a){var b=a||{},c=void 0!=a.name?a.name:"";""!=c&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""));b.name=c;b.id=void 0!=a.id?a.id:"";"undefined"==typeof b.type&&(b.type=b.item_type);if(""==b.id&&("lead"==b.type||"lead"==b.item_type)){var c=void 0!=b.name?b.name:"",d=void 0!=b.phone?b.phone:"",e=void 0!=b.email?b.email:"";a=parseInt((new Date).getTime()/1E3);c=window._cdpEventFunction.md5(c+":"+d+":"+e+":"+a);b.time_in_seconds=a;b.id=c;"undefined"==typeof b.lead_time&&(b.lead_time=window._cdpEventFunction._cdpGetLeadTime());"undefined"==typeof b.lead_locate&&(b.lead_locate=window.location.href)}return b};this.getObjectPropsSafely=function(a,b,c){b=b.split(".");for(var d=0;d<b.length;d++){var e=b[d];if(a&&"object"===typeof a&&a.hasOwnProperty(e))a=a[e];else return c}return void 0!==a?a:c};this.waitForElement=function(a){try{var b=a.selector,c,d=a.interval||500,e=a.loop||10,f=a.mode||"single",p=a.type||"element",g=a.callback;if("string"!=typeof b)return 0;var n=0,d=setInterval(function(){n++;try{var u;switch(p){case"element":c=a.root||document;u=c.querySelector(b);break;case"variable":c=a.root||window;u=window._cdpEventFunction.getObjectPropsSafely(c,b);break;case"xpath":c=a.root||document,u=document.evaluate(b,c,null,XPathResult.ANY_TYPE,null)}if(u){if("function"==typeof g){if("multiple"==f)switch(p){case"element":u=c.querySelectorAll(b);break;case"xpath":for(var q=[],h=u.iterateNext();h;)arrary=q.push(h),h=u.iterateNext();u=q}else switch(p){case"xpath":u=u.iterateNext()}g(u)}clearInterval(d)}}catch(l){console.log("cdp log: ",l)}n>e&&clearInterval(d)},d);return 1}catch(t){return console.log("cdp log: ",t),0}};this.getAndSetGAUid=function(a,b){try{b&&1==a?window._cdpEventFunction.getExtUIDs(!1):b&&2==a&&gtag("get",_CDP_GA_ACCOUNT_TRACKING_ID,"client_id",function(a){if(void 0!=a&&""!=a){a={ga_uid:a,ga_acc_id:_CDP_GA_ACCOUNT_TRACKING_ID};try{var b=/_fbp=(fb\.1\.\d+\.\d+)/.exec(window.document.cookie);b&&b[1]&&(a.fb_uid=b[1])}catch(c){}window._cdpEventFunction.setExtUIDs(a,!0)}})}catch(c){console.log("cdp log: ",c)}};this.checkAndSyncExtUIDs=function(){var a=window._cdpEventFunction.getExtUIDs(!0);try{if(0>=Object.keys(a).length||void 0==a.ga_uid||""==a.ga_uid){var b=0;"function"==typeof ga&&(b=1);"function"==typeof gtag&&(b=2);var c=!("undefined"==typeof _CDP_GA_ACCOUNT_TRACKING_ID||""==_CDP_GA_ACCOUNT_TRACKING_ID);0!=b&&c?0<b&&window._cdpEventFunction.getAndSetGAUid(b,c):setTimeout(function(){"function"==typeof ga&&(b=1);"function"==typeof gtag&&(b=2);c=!("undefined"==typeof _CDP_GA_ACCOUNT_TRACKING_ID||""==_CDP_GA_ACCOUNT_TRACKING_ID);window._cdpEventFunction.getAndSetGAUid(b,c)},2E3)}}catch(d){console.log("cdp log: ",d)}};this.getExtUIDs=function(a){try{var b={},c="";if(a&&(c=window._cdpEventFunction.getCookie("_cdp_ext_uids"),void 0!=c&&""!=c&&(b=JSON2.parse(c),void 0!=b.ga_acc_id&&null!=b.ga_acc_id&&""!=b.ga_acc_id)))return b;a=!1;b={time:(new Date).getTime()};if("undefined"!=typeof _CDP_GA_ACCOUNT_TRACKING_ID&&""!=_CDP_GA_ACCOUNT_TRACKING_ID&&"undefined"!=typeof ga){var d="",e=ga.getAll(),f,p;f=0;for(p=e.length;f<p;f+=1)e[f].get("trackingId")===_CDP_GA_ACCOUNT_TRACKING_ID&&(d=e[f].get("clientId"));void 0!=d&&""!=d&&(b.ga_uid=d,b.ga_acc_id=_CDP_GA_ACCOUNT_TRACKING_ID,a=!0)}var g=/_fbp=(fb\.1\.\d+\.\d+)/.exec(window.document.cookie);g&&g[1]&&(b.fb_uid=g[1]);0<Object.keys(b).length&&a&&(c=JSON2.stringify(b),window._cdpEventFunction.setCookie("_cdp_ext_uids",c,36E5,"/","",0));return b}catch(n){return console.log("cdp log: ",n),{}}};this.setExtUIDs=function(a,b){try{var c={};if(b)var d="_cdp_ext_uids",e=window._cdpEventFunction.getCookie(d),c=void 0!=e&&""!=e?JSON2.parse(e):{time:(new Date).getTime()};var f=!1;0<Object.keys(a).length&&(void 0!=a.ga_uid&&""!=a.ga_uid&&(c.ga_uid=a.ga_uid,c.ga_acc_id=a.ga_acc_id,f=!0),void 0!=a.fb_uid&&""!=a.fb_uid&&(c.fb_uid=a.fb_uid,f=!0));0<Object.keys(c).length&&f&&(c.time=(new Date).getTime(),e=JSON2.stringify(c),window._cdpEventFunction.setCookie(d,e,36E5,"/","",0));return c}catch(p){return console.log("cdp log: ",p),{}}}};var _cdpEventFunction=new window.cdpEventFunctionHelper;_cdpEventFunction.init();var _cdp_sent_sites;if("undefined"==typeof _cdp_sent_sites||null==_cdp_sent_sites)_cdp_sent_sites=[];var ai_sent_counter=0,cdp365Setting=cdp365Setting||{};window.cdp365Setting=function(){this.init=function(){window._cdp365Setting.getDataConfig()};this.getDataConfig=function(){try{var a=window._cdpEventFunction.getCookie("_cdp_cfg");if(void 0!=a&&0!=a)if("1"==a||1==a)window._cdpEventFunction._ea_save_utm();else try{var b=JSON.parse(decodeURI(a));"undefined"!=typeof b.refferal_exclusion&&window._cdpEventFunction._ea_save_utm(b.refferal_exclusion)}catch(c){}else{var d=window._portalId,e=window._propId;void 0==d&&(d=_portalId);void 0==e&&(e=_propId);var a=_CDP_LOG_TRACKING_URL+"/get_data?portal_id="+d+"&prop_id="+e+"&scope=refferal_exclusion",f=document.createElement("script");f.type="text/javascript";f.async=!0;f.src=a;var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(f,p)}}catch(g){console.log("cdp365 warning:"+g)}};this.getDataCallback=function(a){try{if("undefined"!=typeof a&&a.status&&"undefined"!=typeof a.data){var b=a.data,c=!1;"undefined"!=typeof b.refferal_exclusion&&(c=!0,window._cdpEventFunction._ea_save_utm(b.refferal_exclusion));a="1";c&&(a=window.encodeURI(JSON.stringify(b)));b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(d){}window._cdpEventFunction.setCookie("_cdp_cfg",a,3E5,"/",b,0)}}catch(e){console.log("cdp365 getDataCallback warning:"+e)}}};var _cdp365Setting=new window.cdp365Setting;_cdp365Setting.init();var cdp365DeliveryPush=function(a){window.cdp_delivery=window.cdp_delivery||[];window.cdp_delivery.push(a);"sandbox"==_CDP_ENV&&console.log("push event to delivery: ",a)},cdp365DeliveryCheckAndPush=function(a){try{var b=window._cdp365JourneySetting;"undefined"==typeof b&&"undefined"!=typeof _cdp365JourneySetting&&(b=_cdp365JourneySetting);var c=!0;if("undefined"!=typeof b){var d=b.jrequest_events,e=b.jrequest_zones,b=!0;try{void 0!=e&&("object"!=typeof e&&"none"==e)&&(c=b=!1)}catch(f){}if("object"==typeof d&&0<=Object.keys(d).length&&b){for(var c=!1,p=a.ec+"."+a.ea,b=0;b<d.length;b++)if(c=p==d[b].event_category+"."+d[b].event_action)b=d.length;c?("object"==typeof e&&0<=Object.keys(e).length&&(a.jrequest_zones=e),"sandbox"==_CDP_ENV&&console.log("checkSend:"+c+", cdp_event_properties: ",a),cdp365DeliveryPush(a)):console.log("cdp locked event to delivery: ",p);return}}c&&cdp365DeliveryPush(a)}catch(g){console.log("cdp365DeliveryCheckAndPush error:"+g)}};function WebAnalytics(){var a=document,b=window,c=b.encodeURIComponent,d=b.decodeURIComponent,e=_CDP_LOG_TRACKING_URL;this.setCookie=function(b,d,e,f,g,l){var h;e&&(h=new Date,h.setTime(h.getTime()+e));a.cookie=b+"="+c(d)+(e?";expires="+h.toGMTString():"")+";path="+(f||"/")+(g?";domain="+g:"")+(l?";secure":"")};this.getCookie=function(b){return(cookieMatch=RegExp("(^|;)[ ]*"+b+"=([^;]*)").exec(a.cookie))?d(cookieMatch[2]):0};var f=new Date,p=new Date,g,n=0,t,u=this.getCookie("au_id")||0,q=this.getCookie("_ac_client_id")||"",h=0,l="",m=0;this.logData=function(a,b){try{if("undefined"!=typeof _cdp_sent_sites&&-1<_cdp_sent_sites.indexOf(a))return!1;t=window._cdpEventFunction.getDefaultCookieDomain();var c=document.title,d=this.getMeta("at:title");!1!=d&&(null!=d&&"undefined"!=typeof d&&""!=d)&&(c=d);null!=c&&(""!=c&&"undefined"!=typeof c)&&(c=_cdpEventFunction.replaceAll(c,'"',""),c=_cdpEventFunction.replaceAll(c,"&quot;",""));null!=c&&(""!=c&&"undefined"!=typeof c&&200<c.length)&&(c=c.substring(0,200));void 0!=q&&""!=q&&"0"!=q||"undefined"===typeof Storage||(q=window.localStorage._ac_client_id,void 0!=q&&""!=q&&"0"!=q)||(q="");var f=this.getMeta("at:url");!1!=f&&(null!=f&&""!=f)&&_paqAcdp.push(["setCustomUrl",f]);_paqAcdp.push(["setDocumentTitle",c]);_paqAcdp.push(["setCookieDomain","*."+t]);_paqAcdp.push(["setTrackerUrl",e+"/event"]);_paqAcdp.push(["setLogEventType","pageview"]);_paqAcdp.push(["setpropId",a]);_paqAcdp.push(["setClientId",q]);_paqAcdp.push(["setPortalId",b]);if("undefined"!=typeof _cdp_default_event&&0==_cdp_default_event)return!1;window._cdpEventFunction.getPageviewIDAI();var g,l,h,m,n,c=0;l=this.getCookie("_ac_an_session");g=this.getCookie("au_id");this.getCookie("dgs");c=this.getCookie("au_aid");if("undefined"!==typeof Storage)try{0===l&&(l=window.localStorage._ac_an_session);if(void 0==g||""==g||0===g)g=window.localStorage.au_id;if(void 0==c||""==c||0===c)c=window.localStorage.au_aid;h=window.localStorage._ac_t1;"undefined"==typeof h&&(h=(new Date).getTime());m=(new Date).getTime();null===h&&(h=m);null===m&&(m=0);n=m-h;36E5<n&&(n=0)}catch(ia){}var r=web_analytic.getVisitorId();if(void 0==r||""==r||"0"==r||0>=parseInt(r)||isNaN(r))r=g;_paqAcdp.push(["setUserCookieId",r]);var D=this.getMeta("at:user_id");!1==D||"%22"==D||""==D?D=web_analytic.getFirstPartyUserId():web_analytic.setFirstPartyUserId(D);(!1==D||"%22"==D||""==D||"0"==D)&&0<parseInt(c)&&(D=c);if(!1==D||"%22"==D||""==D||"0"==D)D=r;"undefined"==typeof D&&(D=0);_paqAcdp.push(["setUserId",D]);var u=window._cdpEventFunction.checkHomePage();g={};try{void 0!=_cdp365Analytics&&"object"==typeof _cdp365Analytics.extra&&(g=_cdp365Analytics.extra,g.au_id=r)}catch(w){}0===Object.keys(g).length&&g.constructor===Object&&(g={au_id:r,page_path:window.location.pathname,time_diff:n});void 0!=c&&0<parseInt(c)&&(g.ants_id=c);var Z=this.getMeta("at:page_type");!1!=Z&&(g.page_type=Z);var G=this.getMeta("at:page_cate");if(!1==G)try{G=ai_section_helper.getSections(),1==u&&(G="Home")}catch(U){}!1!=G&&(g.page_cate=G);var A=this.getMeta("at:keywords");try{if(!1==A||""==A){var V=this.getMeta("news_keywords");!1==V||""==V?0<window.location.href.indexOf("q=")?A=window._cdpEventFunction.getURLParameter("q"):0<window.location.href.indexOf("search=")?A=window._cdpEventFunction.getURLParameter("search"):0<window.location.href.indexOf("query=")&&(A=window._cdpEventFunction.getURLParameter("query")):A=V}if(!1==A||void 0==A||""==A)A=this.getMeta("keywords")}catch(H){}null!=A&&""!=A&&(A=_cdpEventFunction.replaceAll(A,'"',""),A=_cdpEventFunction.replaceAll(A,"&quot;",""),A=A.substring(0,150),g.keywords=A);0<window.location.href.indexOf("hash_cid=")&&(g.hash_cid=window._cdpEventFunction.getURLParameter("hash_cid"));var B=window._cdpEventFunction._ea_get_utm();void 0!=B.source&&""!=B.source&&(g.utm_source=B.source);void 0!=B.campaign&&""!=B.campaign&&(g.utm_campaign=B.campaign);void 0!=B.medium&&""!=B.medium&&(g.utm_medium=B.medium);void 0!=B.content&&""!=B.content&&(g.utm_content=B.content);void 0!=B.term&&""!=B.term&&(g.utm_term=B.term);void 0!=B.term&&""!=B.term&&(g.utm_type=B.type);n=!1;var z=this.getMeta("at:customer_id");!1!=z&&null!=z&&(_uidfData.customer_id=z);var F=this.getMeta("at:user_name");!1!=F&&null!=z&&(_uidfData.user_name=F);var v=this.getMeta("at:user_email");!1!=v&&null!=z&&(_uidfData.user_email=v,n=!0);var x=this.getMeta("at:user_phone");!1!=x&&(_uidfData.user_phone=x,n=!0);var $=this.getMeta("at:user_fb_psid");!1!=$&&(_uidfData.user_fb_psid=$);var L=this.getMeta("at:user_gaid");!1!=L&&(_uidfData.user_gaid=L);if(n){var C=(_uidfData.user_name?_uidfData.user_name:"")+":"+(_uidfData.user_phone?_uidfData.user_phone:"")+":"+(_uidfData.user_email?_uidfData.user_email:""),C=window._cdpEventFunction.md5(C);_uidfData.upkey=C}z={extra:g,uinf:_uidfData};try{var J=window._cdpEventFunction.getExtUIDs(!0);0>=Object.keys(J).length||(F={},void 0!=J.ga_uid&&""!=J.ga_uid&&(F.ga_uid=J.ga_uid),void 0!=J.fb_uid&&""!=J.fb_uid&&(F.fb_uid=J.fb_uid),z.dims={users:F})}catch(ma){console.log("cdp log extUidIds:",ma)}if("undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.default_event&&0==_cdp365Analytics.default_event)return!1;if(void 0!=_cdp365Analytics){if("undefined"!=typeof _cdp365Analytics.items){J=!1;if(void 0!=_cdp365Analytics.page&&void 0!=_cdp365Analytics.page.page_type)var N=_cdp365Analytics.page.page_type,J="product_detail"==N||"product"==N||"product_category"==N||"detail"==N||"home"==N||"category"==N||"search"==N||"article"==N||"article_category"==N;if(1<_cdp365Analytics.items.length&&J){var i=0,ka=[];_cdp365Analytics.items.forEach(function(a){i++;5>=i&&ka.push({id:a.id,name:a.name,type:void 0!=a.type?a.type:a.item_type})});z.items=ka}else z.items=_cdp365Analytics.items,5<z.items.length&&(z.items=z.items.splice(0,5))}"undefined"!=typeof _cdp365Analytics.dims&&(z.dims=_cdp365Analytics.dims);"undefined"!=typeof _cdp365Analytics.page&&(g.page_type=_cdp365Analytics.page.page_type,g.page_category=_cdp365Analytics.page.page_category,z.extra=g)}window._cdpEventFunction.logInfo("log Pageview:","pageview");_cdp365SentPageviewUri=window.location.href;300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300));web_analytic.trackEventDetail("pageview","view","View Page",1,z,!1,!0);"undefined"!=typeof _cdp_sent_sites&&_cdp_sent_sites.push(a);if("undefined"!==typeof Storage)try{window.localStorage._ac_t1=p.getTime()}catch(Ia){}}catch(eb){console.log(eb)}};this.incrCountTimeTrack=function(a){n+=a};this.getMydomain=function(){return t};this.getCountTimeTrack=function(){return n};this.getTrackingBaseUrl=function(){return e};this.getStartTime=function(){return p};this.getPageviewId=function(){return g};this.setPageviewId=function(a){g=a};this.getSessionId=function(){return m};this.setSessionId=function(a){m=a};this.setVisitorId=function(a){u=a};this.getVisitorId=function(){if("%22"==u||isNaN(u)||0>=parseInt(u))if(u=window._cdpEventFunction.getCookie("au_id")||0,0>=parseInt(u)&&"undefined"!==typeof Storage)try{u=window.localStorage.au_id}catch(a){}return u};this.getVisitorIdAsync=function(a){var b=web_analytic.getVisitorId();if("%22"==b||isNaN(b)||0>=parseInt(b))var c=setInterval(function(){b=web_analytic.getVisitorId();if("%22"!=b&&!isNaN(b)&&0<parseInt(b))return clearInterval(c),a(b)},200);return a(b)};this.resetAnonymousUId=function(){try{var a=web_analytic.getFirstPartyUserId(),b=a,c=0;void 0!=a&&0<a.indexOf("_")&&(c=parseInt(a.substring(a.indexOf("_")+1)),b=parseInt(a.substring(0,a.indexOf("_"))));firstPartyUserId=b=void 0==b||"%22"==b||""==b?window._cdpEventFunction.sha1((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,16):b+"_"+(c+1);_uidfData={};window._cdpEventFunction._ea_set_cdp_cusid("",!0);web_analytic.setFirstPartyUserId(b);web_analytic.trackEvent("user","reset_anonymous_id",{extra:{reset_uid:a,generate_uid:b}},!1,!0)}catch(d){console.error("error:"+d)}};this.getFirstPartyUserId=function(){if("%22"==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId)if(firstPartyUserId=window._cdpEventFunction.getCookie(CDP_UID_1ST_COOKIE_NAME)||0,(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId)&&"undefined"!==typeof Storage)try{firstPartyUserId=localStorage.getItem(CDP_UID_1ST_COOKIE_NAME),"%22"!=firstPartyUserId&&""!=firstPartyUserId&&web_analytic.setFirstPartyUserId(firstPartyUserId)}catch(a){}if(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId){var b=0;window._cdpEventFunction.getCookie("au_id")}b="";try{if("undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain){var b=_cdp365Analytics.first_party_domain,c=window._cdpEventFunction.getDefaultCookieDomain(),d=b!=c;if(void 0!=b&&"%22"!=b&&""!=b&&d&&b!="."+c)return void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId?"":firstPartyUserId}}catch(e){}if(void 0==firstPartyUserId||"%22"==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId){b=window._cdpEventFunction.getCookie("au_id");if("undefined"!==typeof Storage)try{if(void 0==b||""==b||0===b)b=window.localStorage.au_aid}catch(f){}if(isNaN(b)||"%22"==b||""==b)if(b=window._cdpEventFunction.getCookie("au_aid"),"undefined"!==typeof Storage)try{if(void 0==b||""==b||0===b)b=window.localStorage.au_id}catch(g){}isNaN(b)||("%22"==b||""==b)||(firstPartyUserId=b,web_analytic.setFirstPartyUserId(firstPartyUserId))}return firstPartyUserId};this.setFirstPartyUserId=function(a){if(void 0!=a&&"%22"!=a&&""!=a){var b="";try{"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain&&(b=_cdp365Analytics.first_party_domain)}catch(c){}window._cdpEventFunction.setCookie(CDP_UID_1ST_COOKIE_NAME,a,31104E6,"/",b,0);if("undefined"!==typeof Storage)try{localStorage.setItem(CDP_UID_1ST_COOKIE_NAME,a)}catch(d){}}firstPartyUserId=a};this.setGlobalId=function(a){h=a};this.getGlobalId=function(){return h};this.setClientIP=function(a){l=a};this.getClientIP=function(){return l};this.setTimeToSendLog=function(){f=new Date};this.getTimeToSendLog=function(){return f};this.loadScript=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.src=a;d.async=!0;d.onreadystatechange=b;d.onload=b;c.appendChild(d)};this.getMeta=function(a){var b=document.getElementsByTagName("meta");if(0<b.length)for(var c=0;c<b.length;c++)if(null!=b[c].getAttribute("name")&&b[c].getAttribute("name").toLowerCase()==a.toLowerCase())return b[c].getAttribute("content");return!1};this.setLatestEvent=function(a){this.latestEvent=a};this.getLatestEvent=function(){return this.latestEvent};this.setSessionViewed=function(a,b,c,d){var e=0;d=null;try{if("undefined"!=typeof a&&!isNaN(parseInt(a))){var f=window._cdpEventFunction.getCookie("_asm_ss_view");if(void 0!=f&&""!=f)d=JSON2.parse(f);else if("undefined"!==typeof Storage)try{if(f=localStorage.getItem("_asm_ss_view"),void 0!=f&&""!=f){d=JSON2.parse(f);var g=d.time+18E5;(new Date).getTime()>g&&(localStorage.setItem("_asm_ss_view",""),d=null)}}catch(l){}g=!1;null==d||"object"!=typeof d?(d={time:(new Date).getTime()},g=!0):e=d.sid;if("undefined"==typeof e||isNaN(parseInt(e))||e!=a)d={time:(new Date).getTime()},g=!0;d.sid=a;a="";"pageview"==b&&"view"==c?a="page_view_order":"item"==b&&"view"==c?a="item_view_order":"product"==b&&"view"==c?a="item_view_order":"article"==b&&"view"==c?a="item_view_order":"blog"==b&&"view"==c&&(a="item_view_order");""!=a&&(b=0,"number"==typeof d[a]&&(b=parseInt(d[a])),d[a]=b+1);b=18E5;!g&&0<parseInt(d.time)&&(b=d.time+18E5-(new Date).getTime());0>=b&&(b=expireTime);if(g||""!=a)d.utime=(new Date).toISOString().slice(0,19),d.duration=(new Date).getTime()-d.time,f=JSON2.stringify(d),window._cdpEventFunction.setCookie("_asm_ss_view",f,b,"/","",0),"undefined"!==typeof Storage&&window.localStorage.setItem("_asm_ss_view",f)}}catch(h){console.log("cdp sdk error:",h)}};this.getSessionView=function(a,b,c){try{c=null;var d="";"pageview"==a&&"view"==b?d="page_view_order":"item"==a&&"view"==b?d="item_view_order":"product"==a&&"view"==b?d="item_view_order":"article"==a&&"view"==b?d="item_view_order":"blog"==a&&"view"==b&&(d="item_view_order");if(""!=d){a=null;var e=window._cdpEventFunction.getCookie("_asm_ss_view");if(void 0!=e&&""!=e)a=JSON2.parse(e);else if("undefined"!==typeof Storage)try{e=localStorage.getItem("_asm_ss_view"),void 0!=e&&""!=e&&(a=JSON2.parse(e))}catch(f){}e=1;null==a||("undefined"==typeof a||"undefined"==typeof a.sid||isNaN(parseInt(a.sid)))||"number"==typeof a[d]&&(e=parseInt(a[d])+1);c={name:d,value:e}}return c}catch(g){return console.log("cdp sdk error 2:",g),null}};this.getSessionDuration=function(){var a=0;try{var b=null,c=window._cdpEventFunction.getCookie("_asm_ss_view");if(void 0!=c&&""!=c)b=JSON2.parse(c);else if("undefined"!==typeof Storage)try{c=localStorage.getItem("_asm_ss_view"),void 0!=c&&""!=c&&(b=JSON2.parse(c))}catch(d){}null==b||("undefined"==typeof b||"undefined"==typeof b.sid||isNaN(parseInt(b.sid)))||"number"==typeof b.duration&&(a=parseInt(b.duration))}catch(e){console.log("cdp sdk error getSessionDuration:",e)}return a};this.trackingPageview=function(){try{var a=web_analytic.getTimeToSendLog().getTime()+3E3;(new Date).getTime()<a||30<ai_sent_counter?web_analytic.setTimeToSendLog():(web_analytic.setTimeToSendLog(),ai_sent_counter++,_cdp_sent_sites=[],web_analytic.logData(window._propId,1))}catch(b){}};this.trackLeadForm=function(a,b,c,d,e,f){window._cdpEventFunction.logInfo("leadFormProperties:",e);window._cdpEventFunction.logInfo("eventProperties:",e);var g=[],l="";if("undefined"!==typeof e)if("undefined"!==typeof e.items&&Array.isArray(e.items))[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("lead_item:",a);a=window._cdpEventFunction.getLeadFormOnEventProperty(a);g.push(a);"undefined"!=typeof a.upkey&&(l=a.upkey)});else if("undefined"!==typeof e.item&&0==Object.keys(e.item).length){var h=window._cdpEventFunction.getLeadFormOnEventProperty(item);g.push(h);"undefined"!=typeof h.upkey&&(l=h.upkey)}window._cdpEventFunction.logInfo("leadForm. items:",g);e={items:g,dims:e.dims||{},extra:void 0!=e.extra?e.extra:{},uinf:void 0!=e.uinf?e.uinf:{}};""!=l&&(e.profileKey=l);web_analytic.trackEventDetail(a,b,c,d,e,f)};this.trackEcommerce=function(a,b,c,d,e,f){var g=web_analytic.getSessionId();"undefined"===typeof g&&(g=0);var l=[],h=0;if("undefined"!==typeof e)if("undefined"!==typeof e.items&&Array.isArray(e.items)){var m=0,p=!1;[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("e_item:",a);if(m<=MAX_LENGTH_HTTP_REQUEST){if(a=window._cdpEventFunction.getProductEcommeceProperty(a),null!=a&&(void 0!=a.id&&""!=a.id)&&(l.push(a),m+=window.encodeURI(JSON.stringify(a,null,0)).length),0<a.price){var b=a.quantity;0>=b&&(b=1);h+=parseFloat(b*a.price)}}else p=!0});p&&(l=[],h=0,[].forEach.call(e.items,function(a){window._cdpEventFunction.logInfo("e_item:",a);var b=window._cdpEventFunction.getProductEcommeceProperty(a);if(null!=b&&void 0!=b.id&&""!=b.id){var c={};Object.keys(b).forEach(function(a,d){0<=a.indexOf("image")||0<=a.indexOf("url")||0<=a.indexOf("uri")||null==b[a]||200<b[a].length||(c[a]=b[a])});l.push(c)}0<b.price&&(a=b.quantity,0>=a&&(a=1),h+=parseFloat(a*b.price))}))}else if("undefined"!==typeof e.item&&0==Object.keys(e.item).length){if(g=window._cdpEventFunction.getProductEcommeceProperty(item),l.push(g),0<g.price){var r=g.quantity;0>=r&&(r=1);h+=parseFloat(r*g.price)}}else"undefined"!==typeof e.ids&&Array.isArray(e.ids)&&[].forEach.call(e.ids,function(a){l.push({id:a,name:""})});g=e.extra||{};void 0==e.extra||""==e.extra?g={revenue:0<parseFloat(e.revenue)?e.revenue:h,currency:void 0!=e.currency?e.currency:"",order_id:void 0!=e.order_id?e.order_id:""}:(g.revenue=0<parseFloat(g.revenue)?g.revenue:h,g.currency=void 0!=g.currency?g.currency:"",g.order_id=void 0!=g.order_id?g.order_id:"");r="";if("purchase"==b){if(void 0==g.transaction_id||""==g.transaction_id)r="ts_"+(new Date).getTime(),g.transaction_id=r;try{if(r=!1,void 0!=e.dims&&void 0!=e.dims.purchase&&(r=!0),!r&&"undefined"!=typeof g.order_id&&""!=g.order_id){var n="undefined"!=typeof g.identify_id?g.identify_id:g.customer_id,q="undefined"!=typeof g.identify_name?g.identify_name:g.customer_name,w="undefined"!=typeof g.identify_email?g.identify_email:g.email,u="undefined"!=typeof g.identify_phone?g.identify_phone:g.phone,t={id:g.order_id,name:"#"+g.order_id,order_id:g.order_id,revenue:g.revenue,num_items:g.num_items};"undefined"!=typeof g.discount_amount&&""!=g.discount_amount&&(t.discount_amount=g.discount_amount);"undefined"!=typeof g.promotion_code&&""!=g.promotion_code&&(t.promotion_code=g.promotion_code);void 0!=n&&""!=n&&(t.customer_id=n);void 0!=q&&""!=q&&(t.customer_name=q);void 0!=w&&""!=w&&(t.customer_email=w);void 0!=u&&""!=u&&(t.customer_phone=u);"undefined"!==typeof e.dims?e.dims.purchase=t:e.dims={purchase:t}}}catch(U){}}n=e.dims||{};"undefined"!==typeof e.lead&&(q=window._cdpEventFunction.getLeadFormOnEventProperty(e.lead),n.lead=q);web_analytic.trackEventDetail(a,b,c,d,{items:l,extra:g,uinf:e.uinf,dims:n},f)};this.trackEventDetail=function(a,b,c,d,f,g,h){g=web_analytic.getPageviewId();"undefined"===typeof g&&(g="");try{var l=a+":"+b+":"+c,m=web_analytic.getSessionId();"undefined"===typeof m&&(m=0);window._cdpEventFunction._ea_get_event();var p=f.items,n=f.extra||{},r=f.uinf||_uidfData,q=f.dims||{};("object"!==typeof n||""==n||null==n||0>=Object.keys(n).length)&&"undefined"!=typeof _cdp365Analytics.extra&&(n=_cdp365Analytics.extra);if("undefined"!==typeof f.lead){var u=window._cdpEventFunction.getLeadFormOnEventProperty(f.lead);q.lead=u}0<m&&(n.session_id=m);n.prop_id=window._propId;n.visitor_type=window._cdpEventFunction._ea_get_visitorType();var w=_cdpEventFunction.checkIsWebview();n.is_webview=w;var t=window.location.href;200<t.length&&(t=t.substring(0,200));void 0!=t&&""!=t&&(0<=t.indexOf('"')&&(t=_cdpEventFunction.replaceAll(t,'"',"'")),0<=t.indexOf("%22")&&(t=_cdpEventFunction.replaceAll(t,"%22","'")));n.location_url=t;if(void 0!=document.referrer&&""!=document.referrer){var G=document.referrer;200<G.length&&(G=G.substring(0,200));void 0!=G&&""!=G&&(0<=G.indexOf('"')&&(G=_cdpEventFunction.replaceAll(G,'"',"'")),0<=G.indexOf("%22")&&(G=_cdpEventFunction.replaceAll(G,"%22","'")));n.referrer_url=G}var U=window._cdpEventFunction._ea_get_click_beacon();void 0!=U&&""!=U&&(n.click_bc=U);var A=this.getMeta("at:page_cate");if(!1==A)try{A=ai_section_helper.getSections(),1==checkHomePage&&(A="Home")}catch(V){}var H=window._cdpEventFunction._ea_get_utm();void 0!=H.source&&""!=H.source&&(n.utm_source=H.source);void 0!=H.campaign&&""!=H.campaign&&(n.utm_campaign=H.campaign);void 0!=H.medium&&""!=H.medium&&(n.utm_medium=H.medium);void 0!=H.content&&""!=H.content&&(n.utm_content=H.content);void 0!=H.term&&""!=H.term&&(n.utm_term=H.term);void 0!=H.type&&""!=H.type&&(n.utm_type=H.type);var B=window._cdpEventFunction._ea_get_atm();void 0!=B.source&&""!=B.source&&(n.atm_source=B.source);void 0!=B.campaign&&""!=B.campaign&&(n.atm_campaign=B.campaign);void 0!=B.medium&&""!=B.medium&&(n.atm_medium=B.medium);void 0!=B.content&&""!=B.content&&(n.atm_content=B.content);void 0!=B.term&&""!=B.term&&(n.atm_term=B.term);void 0!=B.type&&""!=B.type&&(n.atm_type=B.type);window._cdpEventFunction.logInfo("trackEventDetail. extraData:",n);var z="";try{if("undefined"!=typeof q.users&&"undefined"!=typeof q.users.user_id){var F=q.users.user_id;void 0!=F&&("%22"!=F&&""!=F)&&(z=F,n.custom_uid=1)}}catch(v){}""==z&&(z=web_analytic.getFirstPartyUserId());if(void 0!=z&&"%22"!=z&&""!=z)_paqAcdp.push(["setUserId",z]);else{f="";try{if("undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.first_party_domain){f=_cdp365Analytics.first_party_domain;var x=window._cdpEventFunction.getDefaultCookieDomain(),m=f!=x;void 0!=f&&("%22"!=f&&""!=f&&m&&f!="."+x)&&_paqAcdp.push(["setUserId",z])}}catch($){}}x="";f={};"undefined"!=typeof q.customers?(f=q.customers,x=f.customer_id):"undefined"!=typeof n.customer_id?x=n.customer_id:"undefined"!=typeof n.identify_id?x=n.identify_id:"undefined"!=typeof n.identity_id?x=n.identity_id:"undefined"!=typeof r.customer_id&&(x=r.customer_id);var L=null!=x&&1<=x.length&&200>x.length;if(L)window._cdpEventFunction._ea_set_cdp_cusid(x),n.identify_type="exact";else if(x=window._cdpEventFunction._ea_get_cdp_cusid(),L=null!=x&&1<=x.length&&200>x.length)n.identify_type="predict";L&&(f&&0<Object.keys(f).length&&Object.getPrototypeOf(f)===Object.prototype?f.customer_id=x:f={customer_id:x});try{var C=web_analytic.getSessionDuration();n.ss_time=C;var J=web_analytic.getSessionView(a,b,c);null!=J&&"object"==typeof J&&(n[J.name]=J.value)}catch(ma){console.log("cdp sdk error sessionView:",ma)}f&&(0<Object.keys(f).length&&Object.getPrototypeOf(f)===Object.prototype)&&(q.customers=f)}catch(N){console.log("cdp sdk error:",N)}_paqAcdp.push(["setTrackerUrl",e+"/event"]);_paqAcdp.push(["setLogEventType","event"]);_paqAcdp.push(["trackEvent",a,b,c,d,p,n,r,q,h]);web_analytic.currEvent=l+":"+g;try{if(!1==z||void 0==z||null==z||"%22"==z||""==z||"0"==z)web_analytic.getVisitorIdAsync(function(c){z=c;c=window._propId;"undefined"!=typeof n&&("undefined"!=typeof n.cdp_property_id&&0<parseInt(n.cdp_property_id))&&(c=n.cdp_property_id);"undefined"!==typeof z&&(c={portal_id:window._portalId,prop_id:c,uid:z,ec:a,ea:b,items:p,dims:q,extra:n},"function"==typeof cdp365DeliveryCheckAndPush&&cdp365DeliveryCheckAndPush(c),"function"==typeof _cdpEventCallbackListener&&_cdpEventCallbackListener(c))});else{var i=window._propId;"undefined"!=typeof n&&("undefined"!=typeof n.cdp_property_id&&0<parseInt(n.cdp_property_id))&&(i=n.cdp_property_id);var j={portal_id:window._portalId,prop_id:i,uid:z,ec:a,ea:b,items:p,dims:q,extra:n};"function"==typeof cdp365DeliveryCheckAndPush&&cdp365DeliveryCheckAndPush(j);"function"==typeof _cdpEventCallbackListener&&_cdpEventCallbackListener(j);if("object"==typeof _cdpRegisterFunctionCallback&&Array.isArray(_cdpRegisterFunctionCallback)){var k=0;[].forEach.call(_cdpRegisterFunctionCallback,function(a){"function"==eval("typeof "+a)&&3>k&&a(j);k++})}}}catch(eb){}try{c={eventChannel:"cdp_events_listen",eventCate:a,eventAction:b,eventData:{items:p,dims:q,extra:n}},window.postMessage(c),this.setLatestEvent(c)}catch(Tb){}};this.trackEvent=function(a,b,c,d,e){if(!("undefined"===typeof a||""==a||1>=a.length)){"undefined"!=typeof a&&70<a.length&&(a=a.substring(0,70));"undefined"===typeof b||""==b||1>=b.length?"undefined"!==typeof c&&(""!=c&&0!=Object.keys(c).length)&&(b=void 0!=c.action?c.action:""):"undefined"!==typeof b&&70<b.length&&(b=b.substring(0,70));if("undefined"===typeof b||""==b||1>=b.length)b="default";e="";var f=0;"undefined"===typeof c||""==c||0==Object.keys(c).length?e=b+" "+a:(e=void 0!=c.name?c.name:"",f=void 0!=c.revenue?0<parseFloat(c.revenue)?c.revenue:0:void 0!=c.value?c.value:0);"undefined"===typeof e||""==e||1>=e.length?e="":"undefined"!==typeof e&&30<e.length&&(e=e.substring(0,30));window._cdpEventFunction.logInfo("eventCategory:",a);if("product"==a)web_analytic.trackEcommerce(a,b,e,f,c,d);else if("lead"==a)web_analytic.trackLeadForm(a,b,e,f,c,d);else{var g=[];if("undefined"!==typeof c)if("undefined"!==typeof c.items&&Array.isArray(c.items)){var h=0,l=!1;[].forEach.call(c.items,function(a){window._cdpEventFunction.logInfo("item:",a);h<=MAX_LENGTH_HTTP_REQUEST?(a=window._cdpEventFunction.getItemOnEventProperty(a),null!=a&&(void 0!=a.id&&""!=a.id)&&(g.push(a),h+=window.encodeURI(JSON.stringify(a,null,0)).length)):l=!0});l&&(g=[],h=0,[].forEach.call(c.items,function(a){window._cdpEventFunction.logInfo("item:",a);var b=window._cdpEventFunction.getItemOnEventProperty(a);if(null!=b&&void 0!=b.id&&""!=b.id&&h<MAX_LENGTH_HTTP_REQUEST){var c={};Object.keys(b).forEach(function(a,d){0<=a.indexOf("image")||0<=a.indexOf("url")||0<=a.indexOf("uri")||null==b[a]||200<b[a].length||(c[a]=b[a])});g.push(c);h+=window.encodeURI(JSON.stringify(c,null,0)).length}}))}else if("undefined"!==typeof c.item&&0==Object.keys(c.item).length){var m=window._cdpEventFunction.getItemOnEventProperty(item);g.push(m)}m={items:g};"undefined"!==typeof c&&(m.extra="undefined"!==typeof c.extra?c.extra:"",m.dims="undefined"!==typeof c.dims?c.dims:"",m.uinf="undefined"!==typeof c.uinf?c.uinf:"");web_analytic.trackEventDetail(a,b,e,f,m,d)}}}}var _event_callback_data=function(a){var b=a.au_id,c=a.au_gt,d=a.dgs,e=a.client_id,f=a.an_session,p=a.pv_id;web_analytic.setPageviewId(p);web_analytic.setVisitorId(b);try{if(void 0!=a._clk_url){void 0!=a._clk_bc&&window._cdpEventFunction._ea_save_click_beacon(a._clk_bc);var g=a._clk_target;_cdp365ClickRedirectUri=1;void 0!=g&&"_blank"==g?window.open(a._clk_url,g):(window.location.href=a._clk_url,g="n/a");console.log("cdp365 has tracked clicked via redirect_url:"+a._clk_url+", click_bc:"+a._clk_bc+", click_target: "+g+", redirected:"+_cdp365ClickRedirectUri)}void 0!=e&&window._cdpEventFunction.setCookie("_ac_client_id",e,63072E6,"/",t,0);void 0!=a.networks&&web_analytic.setClientIP(a.networks.client_ip);void 0!=a.session_id&&(web_analytic.setSessionId(a.session_id),web_analytic.setSessionViewed(a.session_id,a.ec,a.ea,""));void 0!=a._clk_bc&&window._cdpEventFunction._ea_save_click_beacon(a._clk_bc);void 0!=a.n_user&&window._cdpEventFunction._ea_set_visitorType(a.n_user,a.session_id)}catch(n){}var e=new Date,t="."+window._cdpEventFunction.getDefaultCookieDomain();window._cdpEventFunction.setCookie("_ac_an_session",f,63072E6,"/",t,0);0==b||0!==window._cdpEventFunction.getCookie("au_id")&&window._cdpEventFunction.getCookie("au_id")==b||(window._cdpEventFunction.setCookie("au_id",b,63072E6,"/",t,0),"undefined"!==typeof Storage&&(window.localStorage.au_id=b));f=!1;void 0==firstPartyUserId||""==firstPartyUserId||0==firstPartyUserId?f=!0:(firstPartyUserId=web_analytic.getFirstPartyUserId(),0!=b&&firstPartyUserId!=b&&(f=!0));f&&web_analytic.setFirstPartyUserId(b);"undefined"!==typeof d&&""!==d&&window._cdpEventFunction.setCookie("_acdp_dgs",d,63072E6,"/",t,0);b=window._cdpEventFunction.getCookie("_ac_au_gt");"undefined"!==typeof b&&0!==b&&""!==b||window._cdpEventFunction.setCookie("_ac_au_gt",c,63072E6,"/",t,0);"undefined"!==typeof Storage&&(a.pvId&&(window.localStorage._ac_pv=p),a.eatv&&(window.localStorage._ac_eatv=a.eatv),a.an_session&&(window.localStorage._ac_an_session=a.an_session),a.client_id&&(window.localStorage._ac_client_id=a.client_id),a.au_gt&&""!=a.au_gt&&(window.localStorage._ac_au_gt=a.au_gt),window.localStorage._ac_t1=e.getTime())},cdp_no_tracking=function(){try{if(1132==window._portalId&&0<=window.location.href("pnjvn.com"))return 1}catch(a){}return 0},web_analytic=new WebAnalytics,_cdp_event_function_loader=function(){try{"undefined"!=typeof window._propId&&0!=_propId||"undefined"==typeof web_event.propId||(_propId=web_event.propId),"undefined"!=typeof window._portalId&&0!=_portalId||"undefined"==typeof web_event._portalId||(_portalId=web_event.portalId),1!=cdp_no_tracking()&&(web_analytic.logData(window._propId,window._portalId),0<window.location.href.indexOf("atm_cid")&&setTimeout(function(){var a=window._cdpEventFunction.getURLParameter("atm_cid");if(null!=a&&1<=a.length&&200>a.length){var c={dims:{customers:{customer_id:a}},extra:{identify_type:"exact"}};window._cdpEventFunction._ea_set_cdp_cusid(a);web_analytic.trackEventDetail("user","identify","user_identify",0,c,!0,!0)}},200))}catch(a){}};_cdp_event_function_loader();web_event.track=function(a,b,c){try{var d="pageview"==a&&"view"==b,e=_cdp365SentPageviewUri==window.location.href,f=!1;"undefined"!=typeof c&&"undefined"!=typeof c.custom_event&&1==c.custom_event&&(f=!0);var p=!1;d&&e&&(p=!0);f&&(p=!1);if(p)console.log("cdp365 has locked the default event");else{try{if(d&&"undefined"!=typeof _cdp365Analytics){if(null==c||void 0==c)c={};"undefined"!=typeof _cdp365Analytics.extra&&(c.extra=_cdp365Analytics.extra);"undefined"!=typeof _cdp365Analytics.page&&("undefined"==typeof _cdp365Analytics.extra&&(c.extra={}),"undefined"!==typeof _cdp365Analytics.page.page_type&&(c.extra.page_type=_cdp365Analytics.page.page_type),"undefined"!==typeof _cdp365Analytics.page.page_type&&(c.extra.page_category=_cdp365Analytics.page.page_category));"undefined"!=typeof _cdp365Analytics.items&&(c.items=_cdp365Analytics.items);"undefined"!=typeof _cdp365Analytics.dims&&(c.dims=_cdp365Analytics.dims)}_cdp365SentPageviewUri=window.location.href;300<_cdp365SentPageviewUri.length&&(_cdp365SentPageviewUri=_cdp365SentPageviewUri.substr(0,300))}catch(g){console.log("cdp log",g)}web_analytic.trackEvent(a,b,c,!0,!0)}}catch(n){console.log("cdp ex:",n)}};web_event.validateEventTrackingUri=function(a){if("undefined"==typeof a||""==a||10>a.length)return console.error("CDP365. eventTrackingUri is null. please check again"),!1;for(var b=["portal_id","prop_id","uid","ea","ec"],c=0;c<b.length;c++)if(0>a.indexOf(b[c]))return console.error("CDP365. eventTrackingUri is invalid. the param:"+b[c]+" is required"),!1;return!0};web_event.trackEventWithUri=function(a,b,c){try{if(web_event.validateEventTrackingUri(a)){var d="undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.page,e=a=window.decodeURI(a);if(d){var f=window.decodeURI(getUriParameter(a,"extra")),d={};try{d=JSON2.parse(f)}catch(p){}if("object"!==typeof d||""==d||null==d)d={};"undefined"!=typeof _cdp365Analytics&&"undefined"!=typeof _cdp365Analytics.page&&(d.page_type=_cdp365Analytics.page.page_type,d.page_category=_cdp365Analytics.page.page_category);var g=JSON2.stringify(d);try{for(var n=uri.split("&"),e="is_custom=1",f=0;f<n.length;f++)var t=n[f].split("="),u=t[0],q=t[1],e="extra"==u?e+("&"+u+"="+g):e+("&"+u+"="+q)}catch(h){}""==e&&(e=a)}var l=0<=a.indexOf("ea=click")&&0<=a.indexOf("&ec=advertising");if(l=l||0<=a.indexOf("en=click_tracking"))if("undefined"!=typeof b&&""!=b&&b.startsWith("http")){if(0<b.indexOf("?")&&0<b.indexOf("&")||0<b.indexOf("#"))b=window.encodeURIComponent(b);a=0;0>b.indexOf(window.location.hostname)&&(a=1);e=e.replace("&resp_type=pixel","&resp_type=javascript");e+="&redirect_url="+b+"&is_ext_url="+a;void 0!=c&&""!=c&&(e+="&clk_target="+c)}else console.error("CDP365 Warn. the param clickLink is required"),l=!1;var e=_CDP_LOG_TRACKING_URL+"/event?"+e,m=document.createElement("script");m.type="text/javascript";m.async=!0;m.src=e;var k=document.getElementsByTagName("script")[0];k.parentNode.insertBefore(m,k);if(l)return setTimeout(function(){0==_cdp365ClickRedirectUri&&(void 0!=c&&"_blank"==c?window.open(b,c):window.location.href=b)},2E3),!1}}catch(y){console.log("cdp ex:",y)}};web_event.resetAnonymousUId=function(){web_analytic.resetAnonymousUId()};var _isLoadEventsOnQueueAndTrack=function(){try{if("undefined"!=typeof window.web_event){var a=window.web_event.queue,b=window.web_event.locked;if("undefined"!==typeof a&&Array.isArray(a)&&!b){var c=web_analytic.getPageviewId(),b=1E3;void 0!=c&&""!=c&&(b=100);setTimeout(function(){for(window.web_event.locked=!0;a.length;)if(0<a.length){var b=a.shift();window._cdpEventFunction.logInfo("item:",b);var c=b[0];3>b.length||"track"!=c||(3==b.length?web_analytic.trackEvent(b[1],b[2],!1,!0):3<b.length&&web_analytic.trackEvent(b[1],b[2],b[3],!1,!0))}window.web_event.locked=!1},b)}}}catch(d){}},_cdp365PushEventTracker=function(){console.log("_cdp365PushEventTracker called");return _isLoadEventsOnConfigAndTrack()},_isLoadEventsOnConfigAndTrack=function(){try{if("undefined"!=typeof window._cdp365Analytics&&"undefined"!=typeof window._cdp365Analytics.track){var a=_cdp365Analytics.track,b=window.web_event.locked;if("undefined"!==typeof a&&Array.isArray(a)&&!b){var c=web_analytic.getPageviewId(),b=1E3;void 0!=c&&""!=c&&(b=100);setTimeout(function(){for(window.web_event.locked=!0;a.length;)if(0<a.length){var b=a.shift();window._cdpEventFunction.logInfo("item:",b);if(!(2>b.length)){var c=b[0],d=b[1],g={},n="pageview"==c&&"view"==d,t=window.location.href;300<t.length&&(t=t.substr(0,300));if(t==_cdp365SentPageviewUri&&n)console.log("cdp365 locked the default event 2");else{2<b.length&&"undefined"!=typeof b[2].extra&&(g=b[2].extra);b={};if("undefined"!=typeof _cdp365Analytics.items)if(n=!1,void 0!=_cdp365Analytics.page&&void 0!=_cdp365Analytics.page.page_type&&(n=_cdp365Analytics.page.page_type,n="product_detail"==n||"product"==n||"product_category"==n||"detail"==n||"home"==n||"category"==n||"search"==n||"article"==n||"article_category"==n),1<_cdp365Analytics.items.length&&n){var u=0,q=[];_cdp365Analytics.items.forEach(function(a){u++;5>=u&&q.push({id:a.id,name:a.name,type:void 0!=a.type?a.type:a.item_type})});b.items=q}else b.items=_cdp365Analytics.items,5<b.items.length&&(b.items=b.items.splice(0,5));"undefined"!=typeof _cdp365Analytics.dims&&(b.dims=_cdp365Analytics.dims);("object"!==typeof g||""==g||null==g||0>=Object.keys(g).length)&&"undefined"!=typeof _cdp365Analytics.extra&&(g=_cdp365Analytics.extra);"undefined"!=typeof _cdp365Analytics.page&&(g.page_type=_cdp365Analytics.page.page_type,g.page_category=_cdp365Analytics.page.page_category);if("object"==typeof _cdp365Analytics.order){var n=_cdp365Analytics.order,h;for(h in n)n.hasOwnProperty(h)&&(g[h]=n[h])}b.extra=g;web_analytic.trackEvent(c,d,b,!1,!0)}}}window.web_event.locked=!1},b)}}}catch(d){}},_loadPageAndTrackEventAsync=function(){_isLoadEventsOnQueueAndTrack();_isLoadEventsOnConfigAndTrack();var a=0,b=setInterval(function(){_isLoadEventsOnQueueAndTrack();_isLoadEventsOnConfigAndTrack();a++;5<a&&clearInterval(b)},2E3)};_loadPageAndTrackEventAsync();var _isLoadScript=function(a){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=a;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)};Date.prototype.toScriptVersionFormat=function(){var a=this.getDate(),b=this.getMonth(),c=this.getFullYear(),d=this.getHours();return c+""+b+""+a+""+d};var _cdp_delivery=function(){try{var a=!1;"sandbox"==_CDP_ENV?a=!0:"561236459"==window._portalId?a=!0:"564467023"==window._portalId?a=!0:"564888548"==window._portalId?a=!0:"undefined"!=typeof _CDP_DELIVERY_TRIGGER&&_CDP_DELIVERY_TRIGGER&&(a=!0);var b=b||window._portalId;"undefined"!=typeof window._portalId&&(b=window._portalId);if("undefined"==typeof b||0==b)a=!1;1==cdp_no_tracking()&&(a=!1);if(a){var c=_CDP_DELIVERY_URL+"/"+b+".js?f=1&portal_id="+b+"&v="+(new Date).toScriptVersionFormat(),d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=c;el=document.getElementsByTagName("script")[0];el.parentNode.insertBefore(d,el);window.cdp_delivery=window.cdp_delivery||[]}}catch(e){}};_cdp_delivery();_cdpOnMessage=function(){try{window.addEventListener("message",function(a){a=a.data;var c=a.eventChannel;"undefined"!=typeof c&&"cdp_tracking"==c&&web_event.track(a.eventCate,a.eventAction,a.eventData)})}catch(a){}};_cdpOnMessage();var _cdp365ElementClickPixel=function(a,b,c){try{if("undefined"==typeof a)console.log("clickLink is NOT correct");else if("undefined"==typeof b)console.log("clickData is NOT correct"),window.location=a;else{b=b.replace("&resp_type=pixel","&resp_type=javascript");var d=0;0>a.indexOf(window.location.hostname)&&(d=1);if(0<a.indexOf("?")&&0<a.indexOf("&")||0<a.indexOf("#"))a=window.encodeURIComponent(a);a=_CDP_LOG_TRACKING_URL+"/stream_event?"+b+"&redirect_url="+a+"&is_ext_url="+d;void 0!=c&&""!=c&&(a+="&clk_target="+c);_cdp365ClickRedirectUri=0;var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=a;var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f)}}catch(p){console.log("cdp ex:",p)}},_cdp365ElementClickTrigger=function(){try{for(var a=document.getElementsByClassName("cdp365-element-link"),b=0;b<a.length;b++)a[b].onclick=function(a){var b=this.getAttribute("href");a=window.decodeURI(this.getAttribute("cdp365-click-data"));var c=this.getAttribute("target");_cdp365ElementClickPixel(b,a,c);setTimeout(function(){0==_cdp365ClickRedirectUri&&(void 0!=c&&"_blank"==c?window.open(b,c):window.location.href=b)},2E3);return!1}}catch(c){console.log("cdp ex:",c)}},_cdp365ElementClickListener=function(){try{var a=0,b=0;_cdp365ElementClickTrigger();var c=setInterval(function(){var d=document.getElementsByClassName("cdp365-element-link").length,f=a!=d;window._cdp365ElementLinkChanged&&(f=!0,window._cdp365ElementLinkChanged=!1);f&&_cdp365ElementClickTrigger();a=d;b++;120<b&&clearInterval(c)},500)}catch(d){console.log("cdp ex:",d)}};_cdp365ElementClickListener();var _cdp365AddOnsListener=function(){try{setTimeout(function(){var a=window._cdp365AddOns;try{if(!("undefined"==typeof a||"object"!=typeof a||0>=Object.keys(a).length)){var a=_CDP_STATIC_FILE_URL+"/cdp_addons.js",c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}catch(e){}},1E3)}catch(a){console.log("cdp ex:",a)}};_cdp365AddOnsListener();var _cdp365CustomEventLoader=function(){try{if(!(!1==_CDP_CUSTOM_EVENT||""==_CDP_CUSTOM_EVENT_URL||1>_CDP_CUSTOM_EVENT_URL.length)){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=_CDP_CUSTOM_EVENT_URL;var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}catch(c){console.log("cdp ex:",c)}};_cdp365CustomEventLoader();